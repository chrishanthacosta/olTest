"use strict";(self.webpackChunkolTest=self.webpackChunkolTest||[]).push([[179],{164:()=>{function ae(t){return"function"==typeof t}function js(t){const n=t(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vs=js(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function br(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Vt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(ae(i))try{i()}catch(s){e=s instanceof Vs?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ah(s)}catch(o){e=null!=e?e:[],o instanceof Vs?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ah(e);else{if(e instanceof Vt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&br(n,e)}remove(e){const{_finalizers:n}=this;n&&br(n,e),e instanceof Vt&&e._removeParent(this)}}Vt.EMPTY=(()=>{const t=new Vt;return t.closed=!0,t})();const sh=Vt.EMPTY;function oh(t){return t instanceof Vt||t&&"closed"in t&&ae(t.remove)&&ae(t.add)&&ae(t.unsubscribe)}function ah(t){ae(t)?t():t.unsubscribe()}const Un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bs={setTimeout(t,e,...n){const{delegate:i}=Bs;return(null==i?void 0:i.setTimeout)?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Bs;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function lh(t){Bs.setTimeout(()=>{const{onUnhandledError:e}=Un;if(!e)throw t;e(t)})}function uh(){}const $0=za("C",void 0,void 0);function za(t,e,n){return{kind:t,value:e,error:n}}let Gn=null;function Hs(t){if(Un.useDeprecatedSynchronousErrorHandling){const e=!Gn;if(e&&(Gn={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:i}=Gn;if(Gn=null,n)throw i}}else t()}class Wa extends Vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oh(e)&&e.add(this)):this.destination=X0}static create(e,n,i){return new Sr(e,n,i)}next(e){this.isStopped?Ka(function W0(t){return za("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ka(function z0(t){return za("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ka($0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const K0=Function.prototype.bind;function Za(t,e){return K0.call(t,e)}class q0{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Us(i)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Us(i)}else Us(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Us(n)}}}class Sr extends Wa{constructor(e,n,i){let r;if(super(),ae(e)||!e)r={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=i?i:void 0};else{let s;this&&Un.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Za(e.next,s),error:e.error&&Za(e.error,s),complete:e.complete&&Za(e.complete,s)}):r=e}this.destination=new q0(r)}}function Us(t){Un.useDeprecatedSynchronousErrorHandling?function Z0(t){Un.useDeprecatedSynchronousErrorHandling&&Gn&&(Gn.errorThrown=!0,Gn.error=t)}(t):lh(t)}function Ka(t,e){const{onStoppedNotification:n}=Un;n&&Bs.setTimeout(()=>n(t,e))}const X0={closed:!0,next:uh,error:function Y0(t){throw t},complete:uh},qa="function"==typeof Symbol&&Symbol.observable||"@@observable";function ch(t){return t}let $e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function J0(t){return t&&t instanceof Wa||function Q0(t){return t&&ae(t.next)&&ae(t.error)&&ae(t.complete)}(t)&&oh(t)}(n)?n:new Sr(n,i,r);return Hs(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=hh(i))((r,s)=>{const o=new Sr({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[qa](){return this}pipe(...n){return function dh(t){return 0===t.length?ch:1===t.length?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}(n)(this)}toPromise(n){return new(n=hh(n))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function hh(t){var e;return null!==(e=null!=t?t:Un.Promise)&&void 0!==e?e:Promise}const eE=js(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ya=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new fh(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new eE}next(n){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?sh:(this.currentObservers=null,s.push(n),new Vt(()=>{this.currentObservers=null,br(s,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new $e;return n.source=this,n}}return t.create=(e,n)=>new fh(e,n),t})();class fh extends Ya{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,e)}error(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==i?i:sh}}function Rr(t){return e=>{if(function tE(t){return ae(null==t?void 0:t.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Gs(t,e,n,i,r){return new nE(t,e,n,i,r)}class nE extends Wa{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function $n(t){return this instanceof $n?(this.v=t,this):new $n(t)}function oE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(g,p){s.push([h,f,g,p])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof $n?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(i[h](f))}catch(g){d(s[0][3],g)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function aE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function mh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const _h=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function yh(t){return ae(null==t?void 0:t.then)}function vh(t){return ae(t[qa])}function Eh(t){return Symbol.asyncIterator&&ae(null==t?void 0:t[Symbol.asyncIterator])}function Dh(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ch=function uE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wh(t){return ae(null==t?void 0:t[Ch])}function Th(t){return oE(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:i,done:r}=yield $n(n.read());if(r)return yield $n(void 0);yield yield $n(i)}}finally{n.releaseLock()}})}function Ih(t){return ae(null==t?void 0:t.getReader)}function zn(t){if(t instanceof $e)return t;if(null!=t){if(vh(t))return function cE(t){return new $e(e=>{const n=t[qa]();if(ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(_h(t))return function dE(t){return new $e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(yh(t))return function hE(t){return new $e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lh)})}(t);if(Eh(t))return Mh(t);if(wh(t))return function fE(t){return new $e(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Ih(t))return function gE(t){return Mh(Th(t))}(t)}throw Dh(t)}function Mh(t){return new $e(e=>{(function pE(t,e){var n,i,r,s;return function rE(t,e,n,i){return new(n||(n=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(d){o(d)}}function l(c){try{u(i.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function r(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=aE(t);!(i=yield n.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function En(t,e,n,i=0,r=!1){const s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function bh(t,e,n=1/0){return ae(e)?bh((i,r)=>function iE(t,e){return Rr((n,i)=>{let r=0;n.subscribe(Gs(i,s=>{i.next(t.call(e,s,r++))}))})}((s,o)=>e(i,s,r,o))(zn(t(i,r))),n):("number"==typeof e&&(n=e),Rr((i,r)=>function mE(t,e,n,i,r,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=p=>u<i?g(p):l.push(p),g=p=>{s&&e.next(p),u++;let _=!1;zn(n(p,c++)).subscribe(Gs(e,y=>{null==r||r(y),s?f(y):e.next(y)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<i;){const y=l.shift();o?En(e,o,()=>g(y)):g(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(Gs(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(i,r,t,n)))}const Sh=new $e(t=>t.complete());function Qa(t){return t[t.length-1]}function Rh(t,e=0){return Rr((n,i)=>{n.subscribe(Gs(i,r=>En(i,t,()=>i.next(r),e),()=>En(i,t,()=>i.complete(),e),r=>En(i,t,()=>i.error(r),e)))})}function Ah(t,e=0){return Rr((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function xh(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(n=>{En(n,e,()=>{const i=t[Symbol.asyncIterator]();En(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function RE(...t){const e=function EE(t){return function vE(t){return t&&ae(t.schedule)}(Qa(t))?t.pop():void 0}(t),n=function DE(t,e){return"number"==typeof Qa(t)?t.pop():e}(t,1/0),i=t;return i.length?1===i.length?zn(i[0]):function _E(t=1/0){return bh(ch,t)}(n)(function SE(t,e){return e?function bE(t,e){if(null!=t){if(vh(t))return function CE(t,e){return zn(t).pipe(Ah(e),Rh(e))}(t,e);if(_h(t))return function TE(t,e){return new $e(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}(t,e);if(yh(t))return function wE(t,e){return zn(t).pipe(Ah(e),Rh(e))}(t,e);if(Eh(t))return xh(t,e);if(wh(t))return function IE(t,e){return new $e(n=>{let i;return En(n,e,()=>{i=t[Ch](),En(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void n.error(o)}s?n.complete():n.next(r)},0,!0)}),()=>ae(null==i?void 0:i.return)&&i.return()})}(t,e);if(Ih(t))return function ME(t,e){return xh(Th(t),e)}(t,e)}throw Dh(t)}(t,e):zn(t)}(i,e)):Sh}function Ja(t,e,...n){if(!0===e)return void t();if(!1===e)return;const i=new Sr({next:()=>{i.unsubscribe(),t()}});return e(...n).subscribe(i)}function X(t){for(let e in t)if(t[e]===X)return e;throw Error("Could not find renamed property on target object.")}function z(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(z).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function tl(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const xE=X({__forward_ref__:X});function nl(t){return t.__forward_ref__=nl,t.toString=function(){return z(this())},t}function F(t){return function Ph(t){return"function"==typeof t&&t.hasOwnProperty(xE)&&t.__forward_ref__===nl}(t)?t():t}class G extends Error{constructor(e,n){super(function il(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function S(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function $s(t,e){const n=e?` in ${e}`:"";throw new G(-201,`No provider for ${xe(t)} found${n}`)}function tt(t,e){null==t&&function Q(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}(e,t,null,"!=")}function ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function fi(t){return{providers:t.providers||[],imports:t.imports||[]}}function rl(t){return Fh(t,zs)||Fh(t,Lh)}function Fh(t,e){return t.hasOwnProperty(e)?t[e]:null}function Nh(t){return t&&(t.hasOwnProperty(sl)||t.hasOwnProperty(jE))?t[sl]:null}const zs=X({\u0275prov:X}),sl=X({\u0275inj:X}),Lh=X({ngInjectableDef:X}),jE=X({ngInjectorDef:X});var x=(()=>((x=x||{})[x.Default=0]="Default",x[x.Host=1]="Host",x[x.Self=2]="Self",x[x.SkipSelf=4]="SkipSelf",x[x.Optional=8]="Optional",x))();let ol;function Dn(t){const e=ol;return ol=t,e}function Oh(t,e,n){const i=rl(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&x.Optional?null:void 0!==e?e:void $s(z(t),"Injector")}function Cn(t){return{toString:t}.toString()}var Tt=(()=>((Tt=Tt||{})[Tt.OnPush=0]="OnPush",Tt[Tt.Default=1]="Default",Tt))(),Bt=(()=>{return(t=Bt||(Bt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Bt;var t})();const BE="undefined"!=typeof globalThis&&globalThis,HE="undefined"!=typeof window&&window,UE="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,K=BE||"undefined"!=typeof global&&global||HE||UE,gi={},J=[],Ws=X({\u0275cmp:X}),al=X({\u0275dir:X}),ll=X({\u0275pipe:X}),kh=X({\u0275mod:X}),nn=X({\u0275fac:X}),Ar=X({__NG_ELEMENT_ID__:X});let GE=0;function pi(t){return Cn(()=>{const n={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||J,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Bt.Emulated,id:"c",styles:t.styles||J,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,s=t.features,o=t.pipes;return i.id+=GE++,i.inputs=Hh(t.inputs,n),i.outputs=Hh(t.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(jh):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Vh):null,i})}function jh(t){return Ne(t)||function wn(t){return t[al]||null}(t)}function Vh(t){return function Wn(t){return t[ll]||null}(t)}const Bh={};function xr(t){return Cn(()=>{const e={type:t.type,bootstrap:t.bootstrap||J,declarations:t.declarations||J,imports:t.imports||J,exports:t.exports||J,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Bh[t.id]=t.type),e})}function Hh(t,e){if(null==t)return gi;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}function ze(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ne(t){return t[Ws]||null}function ct(t,e){const n=t[kh]||null;if(!n&&!0===e)throw new Error(`Type ${z(t)} does not have '\u0275mod' property.`);return n}const N=11;function Ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function Mt(t){return Array.isArray(t)&&!0===t[1]}function dl(t){return 0!=(8&t.flags)}function Ys(t){return 2==(2&t.flags)}function bt(t){return null!==t.template}function qE(t){return 0!=(512&t[2])}function Yn(t,e){return t.hasOwnProperty(nn)?t[nn]:null}class QE{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Gh(t){return t.type.prototype.ngOnChanges&&(t.setInput=eD),JE}function JE(){const t=zh(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===gi)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function eD(t,e,n,i){const r=zh(t)||function tD(t,e){return t[$h]=e}(t,{previous:gi,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new QE(l&&l.currentValue,e,o===gi),t[i]=e}const $h="__ngSimpleChanges__";function zh(t){return t[$h]||null}let ml;function le(t){return!!t.listen}const Wh={createRenderer:(t,e)=>function _l(){return void 0!==ml?ml:"undefined"!=typeof document?document:void 0}()};function _e(t){for(;Array.isArray(t);)t=t[0];return t}function ft(t,e){return _e(e[t.index])}function yl(t,e){return t.data[e]}function it(t,e){const n=e[t];return Ht(n)?n:n[0]}function vl(t){return 128==(128&t[2])}function Tn(t,e){return null==e?null:t[e]}function Kh(t){t[18]=0}function El(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const R={lFrame:rf(null),bindingsEnabled:!0};function Yh(){return R.bindingsEnabled}function D(){return R.lFrame.lView}function H(){return R.lFrame.tView}function Ce(){let t=Xh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xh(){return R.lFrame.currentTNode}function Ut(t,e){const n=R.lFrame;n.currentTNode=t,n.isParent=e}function Dl(){return R.lFrame.isParent}function vD(t,e){const n=R.lFrame;n.bindingIndex=n.bindingRootIndex=t,wl(e)}function wl(t){R.lFrame.currentDirectiveIndex=t}function Il(t){R.lFrame.currentQueryIndex=t}function DD(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function tf(t,e,n){if(n&x.SkipSelf){let r=e,s=t;for(;!(r=r.parent,null!==r||n&x.Host||(r=DD(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,t=s}const i=R.lFrame=nf();return i.currentTNode=e,i.lView=t,!0}function to(t){const e=nf(),n=t[1];R.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nf(){const t=R.lFrame,e=null===t?null:t.child;return null===e?rf(t):e}function rf(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function sf(){const t=R.lFrame;return R.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const of=sf;function no(){const t=sf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ve(){return R.lFrame.selectedIndex}function In(t){R.lFrame.selectedIndex=t}function io(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function ro(t,e,n){af(t,e,3,n)}function so(t,e,n,i){(3&t[2])===n&&af(t,e,n,i)}function Ml(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function af(t,e,n,i){const s=null!=i?i:-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(AD(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function AD(t,e,n,i){const r=n[i]<0,s=n[i+1],a=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Or{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function oo(t,e,n){const i=le(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];Sl(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function lf(t){return 3===t||4===t||6===t}function Sl(t){return 64===t.charCodeAt(0)}function ao(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||uf(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function uf(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Ci(t){return 32767&t}function wi(t,e){let n=function LD(t){return t>>16}(t),i=e;for(;n>0;)i=i[15],n--;return i}let Rl=!0;function lo(t){const e=Rl;return Rl=t,e}let OD=0;function jr(t,e){const n=xl(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Al(i.data,t),Al(e,null),Al(i.blueprint,null));const r=uo(t,e),s=t.injectorIndex;if(function cf(t){return-1!==t}(r)){const o=Ci(r),a=wi(r,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=r,s}function Al(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xl(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function uo(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function co(t,e,n){!function kD(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Ar)&&(i=n[Ar]),null==i&&(i=n[Ar]=OD++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function ff(t,e,n){if(n&x.Optional)return t;$s(e,"NodeInjector")}function gf(t,e,n,i){if(n&x.Optional&&void 0===i&&(i=null),0==(n&(x.Self|x.Host))){const r=t[9],s=Dn(void 0);try{return r?r.get(e,i,n&x.Optional):Oh(e,i,n&x.Optional)}finally{Dn(s)}}return ff(i,e,n)}function pf(t,e,n,i=x.Default,r){if(null!==t){const s=function HD(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ar)?t[Ar]:void 0;return"number"==typeof e?e>=0?255&e:VD:e}(n);if("function"==typeof s){if(!tf(e,t,i))return i&x.Host?ff(r,n,i):gf(e,n,i,r);try{const o=s(i);if(null!=o||i&x.Optional)return o;$s(n)}finally{of()}}else if("number"==typeof s){let o=null,a=xl(t,e),l=-1,u=i&x.Host?e[16][6]:null;for((-1===a||i&x.SkipSelf)&&(l=-1===a?uo(t,e):e[a+8],-1!==l&&yf(i,!1)?(o=e[1],a=Ci(l),e=wi(l,e)):a=-1);-1!==a;){const c=e[1];if(_f(s,a,c.data)){const d=BD(a,e,n,o,i,u);if(d!==mf)return d}l=e[a+8],-1!==l&&yf(i,e[1].data[a+8]===u)&&_f(s,a,e)?(o=c,a=Ci(l),e=wi(l,e)):a=-1}}}return gf(e,n,i,r)}const mf={};function VD(){return new Ti(Ce(),D())}function BD(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],c=function ho(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=r?a+c:t.directiveEnd;for(let f=i?a:a+c;f<h;f++){const g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(r){const f=o[l];if(f&&bt(f)&&f.type===n)return l}return null}(a,o,n,null==i?Ys(a)&&Rl:i!=o&&0!=(3&a.type),r&x.Host&&s===a);return null!==c?Vr(e,o,c,a):mf}function Vr(t,e,n,i){let r=t[n];const s=e.data;if(function xD(t){return t instanceof Or}(r)){const o=r;o.resolving&&function PE(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,`Circular dependency in DI detected for ${t}${n}`)}(xe(s[n]));const a=lo(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Dn(o.injectImpl):null;tf(t,i,x.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function RD(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=Gh(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&Dn(l),lo(a),o.resolving=!1,of()}}return r}function _f(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function yf(t,e){return!(t&x.Self||t&x.Host&&e)}class Ti{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return pf(this._tNode,this._lView,e,i,n)}}class W{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Gt(t,e){t.forEach(n=>Array.isArray(n)?Gt(n,e):e(n))}function fo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Gr={},po="ngTempTokenPath",JD=/\n/gm,If="__source",tC=X({provide:String,useValue:X});let $r;function Mf(t){const e=$r;return $r=t,e}function nC(t,e=x.Default){if(void 0===$r)throw new G(203,"");return null===$r?Oh(t,void 0,e):$r.get(t,e&x.Optional?null:void 0,e)}function q(t,e=x.Default){return(function VE(){return ol}()||nC)(F(t),e)}const iC=q;function Vl(t){const e=[];for(let n=0;n<t.length;n++){const i=F(t[n]);if(Array.isArray(i)){if(0===i.length)throw new G(900,"");let r,s=x.Default;for(let o=0;o<i.length;o++){const a=i[o],l=rC(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(q(r,s))}else e.push(q(i))}return e}function rC(t){return t.__NG_DI_FLAG__}const Wf="__ngContext__";function Oe(t,e){t[Wf]=e}function ql(t){const e=function Yr(t){return t[Wf]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Xl(t){return t.ngOriginalError}function YC(t,...e){t.error(...e)}class Xr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),i=function qC(t){return t&&t.ngErrorLogger||YC}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Xl(e);for(;n&&Xl(n);)n=Xl(n);return n||null}}const ow=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K))();function zt(t){return t instanceof Function?t():t}var st=(()=>((st=st||{})[st.Important=1]="Important",st[st.DashCase=2]="DashCase",st))();function Jl(t,e){return undefined(t,e)}function Qr(t){const e=t[3];return Mt(e)?e[3]:e}function eu(t){return tg(t[13])}function tu(t){return tg(t[4])}function tg(t){for(;null!==t&&!Mt(t);)t=t[4];return t}function Fi(t,e,n,i,r){if(null!=i){let s,o=!1;Mt(i)?s=i:Ht(i)&&(o=!0,i=i[0]);const a=_e(i);0===t&&null!==n?null==r?ag(e,n,a):Xn(e,n,a,r||null,!0):1===t&&null!==n?Xn(e,n,a,r||null,!0):2===t?function gg(t,e,n){const i=function wo(t,e){return le(t)?t.parentNode(e):e.parentNode}(t,e);i&&function Ew(t,e,n,i){le(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function ww(t,e,n,i,r){const s=n[7];s!==_e(n)&&Fi(e,t,i,s,r);for(let a=10;a<n.length;a++){const l=n[a];Jr(l[1],l,t,e,i,s)}}(e,t,s,n,r)}}function iu(t,e,n){if(le(t))return t.createElement(e,n);{const i=null!==n?function sD(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===i?t.createElement(e):t.createElementNS(i,e)}}function ig(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,El(r,-1)),n.splice(i,1)}function su(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function vw(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const r=e[n[i]];if(!(r instanceof Or)){const s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(t,e),function yw(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):_e(e[o]),l=i[r=n[s+2]],u=n[s+3];"boolean"==typeof u?a.removeEventListener(n[s],l,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),s+=2}else{const o=i[r=n[s+1]];n[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(t,e),1===e[1].type&&le(e[N])&&e[N].destroy();const n=e[17];if(null!==n&&Mt(e[3])){n!==e[3]&&ig(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function sg(t,e,n){return function og(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const r=t.data[i.directiveStart].encapsulation;if(r===Bt.None||r===Bt.Emulated)return null}return ft(i,n)}(t,e.parent,n)}function Xn(t,e,n,i,r){le(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function ag(t,e,n){le(t)?t.appendChild(e,n):e.appendChild(n)}function lg(t,e,n,i,r){null!==i?Xn(t,e,n,i,r):ag(t,e,n)}let dg=function cg(t,e,n){return 40&t.type?ft(t,n):null};function To(t,e,n,i){const r=sg(t,i,e),s=e[N],a=function ug(t,e,n){return dg(t,e,n)}(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)lg(s,r,n[l],a,!1);else lg(s,r,n,a,!1)}function fg(t,e){return null!==e?t[16][6].projection[e.projection]:null}function lu(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===e&&(a&&Oe(_e(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)lu(t,e,n.child,i,r,s,!1),Fi(e,t,r,a,s);else if(32&l){const u=Jl(n,i);let c;for(;c=u();)Fi(e,t,r,c,s);Fi(e,t,r,a,s)}else 16&l?pg(t,e,i,n,r,s):Fi(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Jr(t,e,n,i,r,s){lu(n,i,t.firstChild,e,r,s,!1)}function pg(t,e,n,i,r,s){const o=n[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Fi(e,t,r,l[u],s);else lu(t,e,l,o[3],r,s,!0)}function mg(t,e,n){le(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function uu(t,e,n){le(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function _g(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}const yg="ng-template";function Iw(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==_g(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function vg(t){return 4===t.type&&t.value!==yg}function Mw(t,e,n){return e===(4!==t.type||n?t.value:yg)}function bw(t,e,n){let i=4;const r=t.attrs||[],s=function Aw(t){for(let e=0;e<t.length;e++)if(lf(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Mw(t,l,n)||""===l&&1===e.length){if(St(i))return!1;o=!0}}else{const u=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!Iw(t.attrs,u,n)){if(St(i))return!1;o=!0}continue}const d=Sw(8&i?"class":l,r,vg(t),n);if(-1===d){if(St(i))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==_g(f,u,0)||2&i&&u!==h){if(St(i))return!1;o=!0}}}}else{if(!o&&!St(i)&&!St(l))return!1;if(o&&St(l))continue;o=!1,i=l|1&i}}return St(i)||o}function St(t){return 0==(1&t)}function Sw(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){const o=e[r];if(o===t)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function xw(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Eg(t,e,n=!1){for(let i=0;i<e.length;i++)if(bw(t,e[i],n))return!0;return!1}function Dg(t,e){return t?":not("+e.trim()+")":e}function Fw(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!St(o)&&(e+=Dg(s,r),r=""),i=o,s=s||!St(i);n++}return""!==r&&(e+=Dg(s,r)),e}const A={};function Mo(t){Cg(H(),D(),Ve()+t,!1)}function Cg(t,e,n,i){if(!i)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&ro(e,s,n)}else{const s=t.preOrderHooks;null!==s&&so(e,s,0,n)}In(n)}function Fg(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const o=t.data[s];Il(r),o.contentQueries(2,e[s],s)}}}function es(t,e,n,i,r,s,o,a,l,u){const c=e.blueprint.slice();return c[0]=r,c[2]=140|i,Kh(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[N]=a||t&&t[N],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function Ni(t,e,n,i,r){let s=t.data[e];if(null===s)s=function Du(t,e,n,i,r){const s=Xh(),o=Dl(),l=t.data[e]=function Xw(t,e,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,i,r),function yD(){return R.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const o=function Lr(){const t=R.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ut(s,!0),s}function Li(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function ts(t,e,n){to(e);try{const i=t.viewQuery;null!==i&&Au(1,i,n);const r=t.template;null!==r&&Ng(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Fg(t,e),t.staticViewQueries&&Au(2,t.viewQuery,n);const s=t.components;null!==s&&function Kw(t,e){for(let n=0;n<e.length;n++)pT(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[2]&=-5,no()}}function Oi(t,e,n,i){const r=e[2];if(256!=(256&r)){to(e);try{Kh(e),function Qh(t){return R.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Ng(t,e,n,2,i);const o=3==(3&r);if(o){const u=t.preOrderCheckHooks;null!==u&&ro(e,u,null)}else{const u=t.preOrderHooks;null!==u&&so(e,u,0,null),Ml(e,0)}if(function fT(t){for(let e=eu(t);null!==e;e=tu(e)){if(!e[2])continue;const n=e[9];for(let i=0;i<n.length;i++){const r=n[i],s=r[3];0==(1024&r[2])&&El(s,1),r[2]|=1024}}}(e),function hT(t){for(let e=eu(t);null!==e;e=tu(e))for(let n=10;n<e.length;n++){const i=e[n],r=i[1];vl(i)&&Oi(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&Fg(t,e),o){const u=t.contentCheckHooks;null!==u&&ro(e,u)}else{const u=t.contentHooks;null!==u&&so(e,u,1),Ml(e,1)}!function Ww(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)In(~r);else{const s=r,o=n[++i],a=n[++i];vD(o,s),a(2,e[s])}}}finally{In(-1)}}(t,e);const a=t.components;null!==a&&function Zw(t,e){for(let n=0;n<e.length;n++)gT(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Au(2,l,i),o){const u=t.viewCheckHooks;null!==u&&ro(e,u)}else{const u=t.viewHooks;null!==u&&so(e,u,2),Ml(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,El(e[3],-1))}finally{no()}}}function qw(t,e,n,i){const r=e[10],o=function Zh(t){return 4==(4&t[2])}(e);try{!o&&r.begin&&r.begin(),o&&ts(t,e,i),Oi(t,e,n,i)}finally{!o&&r.end&&r.end()}}function Ng(t,e,n,i,r){const s=Ve(),o=2&i;try{In(-1),o&&e.length>20&&Cg(t,e,20,!1),n(i,r)}finally{In(s)}}function Og(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ao(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ao(t,e,n,i,r,s,o,a,l,u){const c=20+i,d=c+r,h=function Yw(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:A);return n}(c,d),f="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Bg(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Ug(t,e,n,i,r,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function iT(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function Gg(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function $g(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function lT(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;bt(e)&&(n[""]=t)}}function zg(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Wg(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=Yn(r.type)),o=new Or(s,bt(r),null);t.blueprint[i]=o,n[i]=o,Ug(t,e,0,i,Li(t,n,r.hostVars,A),r)}function uT(t,e,n){const i=ft(e,t),r=Og(n),s=t[10],o=xo(t,es(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function cT(t,e,n,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?i.setInput(n,d,u,c):n[c]=d}}}function dT(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function gT(t,e){const n=it(e,t);if(vl(n)){const i=n[1];80&n[2]?Oi(i,n,i.template,n[8]):n[5]>0&&Mu(n)}}function Mu(t){for(let i=eu(t);null!==i;i=tu(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Oi(o,s,o.template,s[8])}else s[5]>0&&Mu(s)}const n=t[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=it(n[i],t);vl(r)&&r[5]>0&&Mu(r)}}function pT(t,e){const n=it(e,t),i=n[1];(function mT(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(i,n),ts(i,n,n[8])}function xo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ru(t,e,n){const i=e[10];i.begin&&i.begin();try{Oi(t,e,t.template,n)}catch(r){throw function Qg(t,e){const n=t[9],i=n?n.get(Xr,null):null;i&&i.handleError(e)}(e,r),r}finally{i.end&&i.end()}}function Kg(t){!function Su(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=ql(n),r=i[1];qw(r,i,r.template,n)}}(t[8])}function Au(t,e,n){Il(0),e(t,n)}const yT=(()=>Promise.resolve(null))();function Jg(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function Po(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=tl(r,a):2==s&&(i=tl(i,a+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const xu=new W("INJECTOR",-1);class ep{get(e,n=Gr){if(n===Gr){const i=new Error(`NullInjectorError: No provider for ${z(e)}!`);throw i.name="NullInjectorError",i}return n}}const Pu=new W("Set Injector scope."),ns={},DT={};let Fu;function tp(){return void 0===Fu&&(Fu=new ep),Fu}function np(t,e=null,n=null,i){const r=ip(t,e,n,i);return r._resolveInjectorDefTypes(),r}function ip(t,e=null,n=null,i){return new CT(t,n,e||tp(),i)}class CT{constructor(e,n,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Gt(n,a=>this.processProvider(a,e,n)),Gt([e],a=>this.processInjectorType(a,[],s)),this.records.set(xu,ki(void 0,this));const o=this.records.get(Pu);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:z(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Gr,i=x.Default){this.assertNotDestroyed();const r=Mf(this),s=Dn(void 0);try{if(!(i&x.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function AT(t){return"function"==typeof t||"object"==typeof t&&t instanceof W}(e)&&rl(e);a=l&&this.injectableDefInScope(l)?ki(Nu(e),ns):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&x.Self?tp():this.parent).get(e,n=i&x.Optional&&n===Gr?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[po]=o[po]||[]).unshift(z(e)),r)throw o;return function sC(t,e,n,i){const r=t[po];throw e[If]&&r.unshift(e[If]),t.message=function oC(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=z(e);if(Array.isArray(e))r=e.map(z).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):z(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(JD,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t[po]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Dn(s),Mf(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(z(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processInjectorType(e,n,i){if(!(e=F(e)))return!1;let r=Nh(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=Nh(s)),null==r)return!1;if(null!=r.imports&&!a){let c;i.push(o);try{Gt(r.imports,d=>{this.processInjectorType(d,n,i)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];Gt(f,g=>this.processProvider(g,h,f||J))}}this.injectorDefTypes.add(o);const l=Yn(o)||(()=>new o);this.records.set(o,ki(l,ns));const u=r.providers;if(null!=u&&!a){const c=e;Gt(u,d=>this.processProvider(d,c,u))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,i){let r=ji(e=F(e))?e:F(e&&e.provide);const s=function TT(t,e,n){return sp(t)?ki(void 0,t.useValue):ki(function rp(t,e,n){let i;if(ji(t)){const r=F(t);return Yn(r)||Nu(r)}if(sp(t))i=()=>F(t.useValue);else if(function MT(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Vl(t.deps||[]));else if(function IT(t){return!(!t||!t.useExisting)}(t))i=()=>q(F(t.useExisting));else{const r=F(t&&(t.useClass||t.provide));if(!function ST(t){return!!t.deps}(t))return Yn(r)||Nu(r);i=()=>new r(...Vl(t.deps))}return i}(t),ns)}(e);if(ji(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=ki(void 0,ns,!0),o.factory=()=>Vl(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,n){return n.value===ns&&(n.value=DT,n.value=n.factory()),"object"==typeof n.value&&n.value&&function RT(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=F(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Nu(t){const e=rl(t),n=null!==e?e.factory:Yn(t);if(null!==n)return n;if(t instanceof W)throw new G(204,!1);if(t instanceof Function)return function wT(t){const e=t.length;if(e>0)throw function Ur(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}(e,"?"),new G(204,!1);const n=function OE(t){const e=t&&(t[zs]||t[Lh]);if(e){const n=function kE(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new G(204,!1)}function ki(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sp(t){return null!==t&&"object"==typeof t&&tC in t}function ji(t){return"function"==typeof t}let Zt=(()=>{class t{static create(n,i){var r;if(Array.isArray(n))return np({name:""},i,n,"");{const s=null!==(r=n.name)&&void 0!==r?r:"";return np({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=Gr,t.NULL=new ep,t.\u0275prov=ie({token:t,providedIn:"any",factory:()=>q(xu)}),t.__NG_ELEMENT_ID__=-1,t})();function jT(t,e){io(ql(t)[1],Ce())}function L(t,e=x.Default){const n=D();return null===n?q(t,e):pf(Ce(),n,F(t),e)}function ss(t,e,n){const i=D();return function ke(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}(i,function Di(){return R.lFrame.bindingIndex++}(),e)&&function ot(t,e,n,i,r,s,o,a){const l=ft(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[i])?(Jg(t,n,c,i,r),Ys(e)&&function eT(t,e){const n=it(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i=function Jw(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,e.value||"",i):r,le(s)?s.setProperty(l,i,r):Sl(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}(H(),function ue(){const t=R.lFrame;return yl(t.tView,t.selectedIndex)}(),i,t,e,i[N],n,!1),ss}function Gu(t,e,n,i,r){const o=r?"class":"style";Jg(t,n,e.inputs[o],o,i)}function Jn(t,e,n,i){const r=D(),s=H(),o=20+t,a=r[N],l=r[o]=iu(a,e,function SD(){return R.lFrame.currentNamespace}()),u=s.firstCreatePass?function vI(t,e,n,i,r,s,o){const a=e.consts,u=Ni(e,t,2,r,Tn(a,s));return function Tu(t,e,n,i){let r=!1;if(Yh()){const s=function oT(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Eg(n,o.selectors,!1)&&(r||(r=[]),co(jr(n,e),t,o.type),bt(o)?($g(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){r=!0,zg(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=Li(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=ao(n.mergedAttrs,d.hostAttrs),Wg(t,n,e,u,d),lT(u,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),u++}!function Qw(t,e){const i=e.directiveEnd,r=t.data,s=e.attrs,o=[];let a=null,l=null;for(let u=e.directiveStart;u<i;u++){const c=r[u],d=c.inputs,h=null===s||vg(e)?null:dT(d,s);o.push(h),a=Bg(d,u,a),l=Bg(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(t,n)}o&&function aT(t,e,n){if(e){const i=t.localNames=[];for(let r=0;r<e.length;r+=2){const s=n[e[r+1]];if(null==s)throw new G(-301,!1);i.push(e[r],s)}}}(n,i,o)}return n.mergedAttrs=ao(n.mergedAttrs,n.attrs),r}(e,n,u,Tn(a,o)),null!==u.attrs&&Po(u,u.attrs,!1),null!==u.mergedAttrs&&Po(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,r,0,e,n,i):s.data[o];Ut(u,!0);const c=u.mergedAttrs;null!==c&&oo(a,l,c);const d=u.classes;null!==d&&uu(a,l,d);const h=u.styles;return null!==h&&mg(a,l,h),64!=(64&u.flags)&&To(s,r,l,u),0===function dD(){return R.lFrame.elementDepthCount}()&&Oe(l,r),function hD(){R.lFrame.elementDepthCount++}(),function Xs(t){return 1==(1&t.flags)}(u)&&(function Cu(t,e,n){!Yh()||(function rT(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||jr(n,e),Oe(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const l=t.data[a],u=bt(l);u&&uT(e,n,l);const c=Vr(e,t,a,n);Oe(c,e),null!==o&&cT(0,a-r,c,l,0,o),u&&(it(n.index,e)[8]=c)}}(t,e,n,ft(n,e)),128==(128&n.flags)&&function sT(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,a=function ED(){return R.lFrame.currentDirectiveIndex}();try{In(o);for(let l=i;l<r;l++){const u=t.data[l],c=e[l];wl(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Gg(u,c)}}finally{In(-1),wl(a)}}(t,e,n))}(s,r,u),function Lg(t,e,n){if(dl(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,u,r)),null!==i&&function wu(t,e,n=ft){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}(r,u),Jn}function ei(){let t=Ce();Dl()?function Cl(){R.lFrame.isParent=!1}():(t=t.parent,Ut(t,!1));const e=t;!function fD(){R.lFrame.elementDepthCount--}();const n=H();return n.firstCreatePass&&(io(n,t),dl(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function FD(t){return 0!=(16&t.flags)}(e)&&Gu(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ND(t){return 0!=(32&t.flags)}(e)&&Gu(n,e,D(),e.stylesWithoutHost,!1),ei}function Yi(t,e,n,i){return Jn(t,e,n,i),ei(),Yi}function Wu(t){return!!t&&"function"==typeof t.then}const CI=function Bp(t){return!!t&&"function"==typeof t.subscribe};function pm(t,e=""){const n=D(),i=H(),r=t+20,s=i.firstCreatePass?Ni(i,r,1,e,null):i.data[r],o=n[r]=function nu(t,e){return le(t)?t.createText(e):t.createTextNode(e)}(n[N],e);To(i,n,o,s),Ut(s,!1)}const ti=void 0;var dM=["en",[["a","p"],["AM","PM"],ti],[["AM","PM"],ti,ti],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ti,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ti,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ti,"{1} 'at' {0}",ti],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cM(t){const n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Qi={};function He(t){const e=function hM(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=km(e);if(n)return n;const i=e.split("-")[0];if(n=km(i),n)return n;if("en"===i)return dM;throw new Error(`Missing locale data for the locale "${t}".`)}function km(t){return t in Qi||(Qi[t]=K.ng&&K.ng.common&&K.ng.common.locales&&K.ng.common.locales[t]),Qi[t]}var T=(()=>((T=T||{})[T.LocaleId=0]="LocaleId",T[T.DayPeriodsFormat=1]="DayPeriodsFormat",T[T.DayPeriodsStandalone=2]="DayPeriodsStandalone",T[T.DaysFormat=3]="DaysFormat",T[T.DaysStandalone=4]="DaysStandalone",T[T.MonthsFormat=5]="MonthsFormat",T[T.MonthsStandalone=6]="MonthsStandalone",T[T.Eras=7]="Eras",T[T.FirstDayOfWeek=8]="FirstDayOfWeek",T[T.WeekendRange=9]="WeekendRange",T[T.DateFormat=10]="DateFormat",T[T.TimeFormat=11]="TimeFormat",T[T.DateTimeFormat=12]="DateTimeFormat",T[T.NumberSymbols=13]="NumberSymbols",T[T.NumberFormats=14]="NumberFormats",T[T.CurrencyCode=15]="CurrencyCode",T[T.CurrencySymbol=16]="CurrencySymbol",T[T.CurrencyName=17]="CurrencyName",T[T.Currencies=18]="Currencies",T[T.Directionality=19]="Directionality",T[T.PluralCase=20]="PluralCase",T[T.ExtraData=21]="ExtraData",T))();const ko="en-US";let jm=ko;class u_{}class gb{resolveComponentFactory(e){throw function fb(t){const e=Error(`No component factory found for ${z(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Uo=(()=>{class t{}return t.NULL=new gb,t})();function pb(){return er(Ce(),D())}function er(t,e){return new ln(ft(t,e))}let ln=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=pb,t})();class d_{}let vb=(()=>{class t{}return t.\u0275prov=ie({token:t,providedIn:"root",factory:()=>null}),t})();class ic{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Eb=new ic("13.3.11"),rc={};function Go(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(_e(s)),Mt(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&Go(l[1],l,u,i)}const o=n.type;if(8&o)Go(t,e,n.child,i);else if(32&o){const a=Jl(n,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=fg(e,n);if(Array.isArray(a))i.push(...a);else{const l=Qr(e[16]);Go(l[1],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}class Db extends class ds{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Go(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Mt(e)){const n=e[8],i=n?n.indexOf(this):-1;i>-1&&(function ru(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&ig(r,i),e>0&&(t[n-1][4]=i[4]);const s=fo(t,10+e);!function hw(t,e){Jr(t,e,e[N],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}(e,i),fo(n,i))}this._attachedToViewContainer=!1}!function rg(t,e){if(!(256&e[2])){const n=e[N];le(n)&&n.destroyNode&&Jr(t,e,n,3,null,null),function pw(t){let e=t[13];if(!e)return su(t[1],t);for(;e;){let n=null;if(Ht(e))n=e[13];else{const i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)Ht(e)&&su(e[1],e),e=e[3];null===e&&(e=t),Ht(e)&&su(e[1],e),n=e&&e[4]}e=n}}(e)}}(this._lView[1],this._lView)}onDestroy(e){!function Vg(t,e,n,i){const r=function qg(t){return t[7]||(t[7]=[])}(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&function Yg(t){return t.cleanup||(t.cleanup=[])}(t).push(i,r.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){!function bu(t){for(;t;){t[2]|=64;const e=Qr(t);if(qE(t)&&!e)return t;t=e}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ru(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gw(t,e){Jr(t,e,e[N],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,"");this._appRef=e}}{constructor(e){super(e),this._view=e}detectChanges(){Kg(this._view)}checkNoChanges(){}get context(){return null}}class f_ extends Uo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ne(e);return new sc(n,this.ngModule)}}function g_(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class sc extends u_{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Nw(t){return t.map(Fw).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return g_(this.componentDef.inputs)}get outputs(){return g_(this.componentDef.outputs)}create(e,n,i,r){const s=(r=r||this.ngModule)?function wb(t,e){return{get:(n,i,r)=>{const s=t.get(n,rc,r);return s!==rc||i===rc?s:e.get(n,i,r)}}}(e,r.injector):e,o=s.get(d_,Wh),a=s.get(vb,null),l=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=i?function jg(t,e,n){if(le(t))return t.selectRootElement(e,n===Bt.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):iu(o.createRenderer(null,this.componentDef),u,function Cb(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),d=this.componentDef.onPush?576:528,h=function mp(t,e){return{components:[],scheduler:t||ow,clean:yT,playerHandler:e||null,flags:0}}(),f=Ao(0,null,null,1,0,null,null,null,null,null),g=es(null,f,h,d,null,null,o,l,a,s);let p,_;to(g);try{const y=function gp(t,e,n,i,r,s){const o=n[1];n[20]=t;const l=Ni(o,20,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(Po(l,u,!0),null!==t&&(oo(r,t,u),null!==l.classes&&uu(r,t,l.classes),null!==l.styles&&mg(r,t,l.styles)));const c=i.createRenderer(t,e),d=es(n,Og(e),null,e.onPush?64:16,n[20],l,i,c,s||null,null);return o.firstCreatePass&&(co(jr(l,n),o,e.type),$g(o,l),zg(l,n.length,1)),xo(n,d),n[20]=d}(c,this.componentDef,g,o,l);if(c)if(i)oo(l,c,["ng-version",Eb.full]);else{const{attrs:m,classes:v}=function Lw(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!St(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);m&&oo(l,c,m),v&&v.length>0&&uu(l,c,v.join(" "))}if(_=yl(f,20),void 0!==n){const m=_.projection=[];for(let v=0;v<this.ngContentSelectors.length;v++){const E=n[v];m.push(null!=E?Array.from(E):null)}}p=function pp(t,e,n,i,r){const s=n[1],o=function nT(t,e,n){const i=Ce();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Wg(t,i,e,Li(t,e,1,null),n));const r=Vr(e,t,i.directiveStart,i);Oe(r,e);const s=ft(i,e);return s&&Oe(s,e),r}(s,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=Ce();e.contentQueries(1,o,l.directiveStart)}const a=Ce();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(In(a.index),Ug(n[1],a,0,a.directiveStart,a.directiveEnd,e),Gg(e,o)),o}(y,this.componentDef,g,h,[jT]),ts(f,g,null)}finally{no()}return new Ib(this.componentType,p,er(_,g),g,_)}}class Ib extends class hb{}{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Db(r),this.componentType=e}get injector(){return new Ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class tr{}const nr=new Map;class __ extends tr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new f_(this);const i=ct(e);this._bootstrapComponents=zt(i.bootstrap),this._r3Injector=ip(e,n,[{provide:tr,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver}],z(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Zt.THROW_IF_NOT_FOUND,i=x.Default){return e===Zt||e===tr||e===xu?this:this._r3Injector.get(e,n,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class oc extends class bb{}{constructor(e){super(),this.moduleType=e,null!==ct(e)&&function Sb(t){const e=new Set;!function n(i){const r=ct(i,!0),s=r.id;null!==s&&(function p_(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${z(e)} vs ${z(e.name)}`)}(s,nr.get(s),i),nr.set(s,i));const o=zt(r.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new __(this.moduleType,e)}}function ac(t){return e=>{setTimeout(t,void 0,e)}}const un=class Wb extends Ya{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){var r,s,o;let a=e,l=n||(()=>null),u=i;if(e&&"object"==typeof e){const d=e;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),u=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=ac(l),a&&(a=ac(a)),u&&(u=ac(u)));const c=super.subscribe({next:a,error:l,complete:u});return e instanceof Vt&&e.add(c),c}};function Zo(...t){}Symbol;const Z_=new W("Application Initializer");let Ec=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Zo,this.reject=Zo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Wu(s))n.push(s);else if(CI(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(q(Z_,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ps=new W("AppId",{providedIn:"root",factory:function K_(){return`${Dc()}${Dc()}${Dc()}`}});function Dc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const q_=new W("Platform Initializer"),Y_=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),SS=new W("appBootstrapListener"),An=new W("LocaleId",{providedIn:"root",factory:()=>iC(An,x.Optional|x.SkipSelf)||function RS(){return"undefined"!=typeof $localize&&$localize.locale||ko}()}),FS=(()=>Promise.resolve(0))();function Cc(t){"undefined"==typeof Zone?FS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ze{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new un(!1),this.onMicrotaskEmpty=new un(!1),this.onStable=new un(!1),this.onError=new un(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function NS(){let t=K.requestAnimationFrame,e=K.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function kS(t){const e=()=>{!function OS(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(K,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Tc(t),t.isCheckStableRunning=!0,wc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Tc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return X_(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Q_(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return X_(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Q_(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Tc(t),wc(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,LS,Zo,Zo);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}}const LS={};function wc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function X_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Q_(t){t._nesting--,wc(t)}class jS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new un,this.onMicrotaskEmpty=new un,this.onStable=new un,this.onError=new un}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}}let Ic=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),Cc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cc(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,r){return[]}}return t.\u0275fac=function(n){return new(n||t)(q(Ze))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),VS=(()=>{class t{constructor(){this._applications=new Map,Mc.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Mc.findTestabilityInTree(this,n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class BS{addToWindow(e){}findTestabilityInTree(e,n,i){return null}}let Mc=new BS,ni=null;const J_=new W("AllowMultipleToken"),ey=new W("PlatformOnDestroy");function ty(t,e,n=[]){const i=`Platform: ${e}`,r=new W(i);return(s=[])=>{let o=bc();if(!o||o.injector.get(J_,!1)){const a=[...n,...s,{provide:r,useValue:!0}];t?t(a):function $S(t){if(ni&&!ni.get(J_,!1))throw new G(400,"");ni=t;const e=t.get(ny),n=t.get(q_,null);n&&n.forEach(i=>i())}(function WS(t=[],e){return Zt.create({name:e,providers:[{provide:Pu,useValue:"platform"},{provide:ey,useValue:()=>ni=null},...t]})}(a,i))}return function zS(t){const e=bc();if(!e)throw new G(401,"");return e}()}}function bc(){var t;return null!==(t=null==ni?void 0:ni.get(ny))&&void 0!==t?t:null}let ny=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const a=function ZS(t,e){let n;return n="noop"===t?new jS:("zone.js"===t?void 0:t)||new Ze({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Ze,useValue:a}];return a.run(()=>{const u=Zt.create({providers:l,parent:this.injector,name:n.moduleType.name}),c=n.create(u),d=c.injector.get(Xr,null);if(!d)throw new G(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{Sc(this._modules,c),h.unsubscribe()})}),function KS(t,e,n){try{const i=n();return Wu(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(d,a,()=>{const h=c.injector.get(Ec);return h.runInitializers(),h.donePromise.then(()=>(function mM(t){tt(t,"Expected localeId to be defined"),"string"==typeof t&&(jm=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(An,ko)||ko),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,i=[]){const r=iy({},i);return function US(t,e,n){const i=new oc(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(ry);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new G(403,"");n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new G(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(ey,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(q(Zt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function iy(t,e){return Array.isArray(e)?e.reduce(iy,t):Object.assign(Object.assign({},t),e)}let ry=(()=>{class t{constructor(n,i,r,s){this._zone=n,this._injector=i,this._exceptionHandler=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new $e(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new $e(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),Cc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=RE(o,a.pipe(function AE(t={}){const{connector:e=(()=>new Ya),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,c=d=!1},g=()=>{const p=o;f(),null==p||p.unsubscribe()};return Rr((p,_)=>{u++,!d&&!c&&h();const y=l=null!=l?l:e();_.add(()=>{u--,0===u&&!d&&!c&&(a=Ja(g,r))}),y.subscribe(_),!o&&u>0&&(o=new Sr({next:m=>y.next(m),error:m=>{d=!0,h(),a=Ja(f,n,m),y.error(m)},complete:()=>{c=!0,h(),a=Ja(f,i),y.complete()}}),zn(p).subscribe(o))})(s)}}()))}bootstrap(n,i){if(!this._initStatus.done)throw new G(405,"");let r;r=n instanceof u_?n:this._injector.get(Uo).resolveComponentFactory(n),this.componentTypes.push(r.componentType);const s=function GS(t){return t.isBoundToModule}(r)?void 0:this._injector.get(tr),a=r.create(Zt.NULL,[],i||r.selector,s),l=a.location.nativeElement,u=a.injector.get(Ic,null),c=u&&a.injector.get(VS);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),Sc(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new G(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Sc(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(SS,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(q(Ze),q(Zt),q(Xr),q(Ec))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Sc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let oy=!0;const h1=ty(null,"core",[]);let f1=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(q(ry))},t.\u0275mod=xr({type:t}),t.\u0275inj=fi({}),t})(),Xo=null;function _s(){return Xo}const Qt=new W("DocumentToken");var Ke=(()=>((Ke=Ke||{})[Ke.Decimal=0]="Decimal",Ke[Ke.Percent=1]="Percent",Ke[Ke.Currency=2]="Currency",Ke[Ke.Scientific=3]="Scientific",Ke))(),I=(()=>((I=I||{})[I.Decimal=0]="Decimal",I[I.Group=1]="Group",I[I.List=2]="List",I[I.PercentSign=3]="PercentSign",I[I.PlusSign=4]="PlusSign",I[I.MinusSign=5]="MinusSign",I[I.Exponential=6]="Exponential",I[I.SuperscriptingExponent=7]="SuperscriptingExponent",I[I.PerMille=8]="PerMille",I[I.Infinity=9]="Infinity",I[I.NaN=10]="NaN",I[I.TimeSeparator=11]="TimeSeparator",I[I.CurrencyDecimal=12]="CurrencyDecimal",I[I.CurrencyGroup=13]="CurrencyGroup",I))();function mt(t,e){const n=He(t),i=n[T.NumberSymbols][e];if(void 0===i){if(e===I.CurrencyDecimal)return n[T.NumberSymbols][I.Decimal];if(e===I.CurrencyGroup)return n[T.NumberSymbols][I.Group]}return i}const z1=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Bc(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}let $c=(()=>{class t{constructor(n){this._locale=n}transform(n,i,r){if(!function zc(t){return!(null==t||""===t||t!=t)}(n))return null;r=r||this._locale;try{return function X1(t,e,n){return function jc(t,e,n,i,r,s,o=!1){let a="",l=!1;if(isFinite(t)){let u=function J1(t){let i,r,s,o,a,e=Math.abs(t)+"",n=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;"0"===e.charAt(a);)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>22&&(i=i.splice(0,21),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}(t);o&&(u=function Q1(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let c=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const m=s.match(z1);if(null===m)throw new Error(`${s} is not a valid digit info`);const v=m[1],E=m[3],C=m[5];null!=v&&(c=Bc(v)),null!=E&&(d=Bc(E)),null!=C?h=Bc(C):null!=E&&d>h&&(h=d)}!function eR(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const s=Math.min(Math.max(e,r),n);let o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const u=e+t.integerLen,c=i.reduceRight(function(d,h,f,g){return g[f]=(h+=d)<10?h:h-10,l&&(0===g[f]&&f>=u?g.pop():l=!1),h>=10?1:0},0);c&&(i.unshift(c),t.integerLen++)}(u,d,h);let f=u.digits,g=u.integerLen;const p=u.exponent;let _=[];for(l=f.every(m=>!m);g<c;g++)f.unshift(0);for(;g<0;g++)f.unshift(0);g>0?_=f.splice(g,f.length):(_=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(mt(n,i)),_.length&&(a+=mt(n,r)+_.join("")),p&&(a+=mt(n,I.Exponential)+"+"+p)}else a=mt(n,I.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function Vc(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let c=0;c<l.length;c++){const d=l.charAt(c);"0"===d?n.minFrac=n.maxFrac=c+1:"#"===d?n.maxFrac=c+1:n.posSuf+=d}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const c=r.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substr(0,d).replace(/'/g,""),n.negSuf=s.substr(d+c).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Fc(t,e){return He(t)[T.NumberFormats][e]}(e,Ke.Decimal),mt(e,I.MinusSign)),e,I.Group,I.Decimal,n)}(function Wc(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),r,i)}catch(s){throw function Nt(t,e){return new G(2100,"")}()}}}return t.\u0275fac=function(n){return new(n||t)(L(An,16))},t.\u0275pipe=ze({name:"number",type:t,pure:!0}),t})();let NR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t}),t.\u0275inj=fi({}),t})();class Zc extends class BR extends class m1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function p1(t){Xo||(Xo=t)}(new Zc)}onAndCancel(e,n,i){return e.addEventListener(n,i,!1),()=>{e.removeEventListener(n,i,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function HR(){return Es=Es||document.querySelector("base"),Es?Es.getAttribute("href"):null}();return null==n?null:function UR(t){aa=aa||document.createElement("a"),aa.setAttribute("href",t);const e=aa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Es=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function nR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let aa,Es=null;const Fy=new W("TRANSITION_ID"),$R=[{provide:Z_,useFactory:function GR(t,e,n){return()=>{n.get(Ec).donePromise.then(()=>{const i=_s(),r=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Fy,Qt,Zt],multi:!0}];class Kc{static init(){!function HS(t){Mc=t}(new Kc)}addToWindow(e){K.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},K.getAllAngularTestabilities=()=>e.getAllTestabilities(),K.getAllAngularRootElements=()=>e.getAllRootElements(),K.frameworkStabilizers||(K.frameworkStabilizers=[]),K.frameworkStabilizers.push(i=>{const r=K.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,i){if(null==n)return null;const r=e.getTestability(n);return null!=r?r:i?_s().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let zR=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const la=new W("EventManagerPlugins");let ua=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(q(la),q(Ze))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class Ny{constructor(e){this._doc=e}addGlobalEventListener(e,n,i){const r=_s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let Ly=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),Ds=(()=>{class t extends Ly{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,r){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(Oy),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(n,r,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Oy))}}return t.\u0275fac=function(n){return new(n||t)(q(Qt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function Oy(t){_s().remove(t)}const qc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yc=/%COMP%/g;function ca(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ca(t,r,n):(r=r.replace(Yc,t),n.push(r))}return n}function Vy(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xc=(()=>{class t{constructor(n,i,r){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Qc(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case Bt.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new XR(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(n),r}case 1:case Bt.ShadowDom:return new QR(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const r=ca(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(q(ua),q(Ds),q(ps))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class Qc{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(qc[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,i){e&&e.insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const s=qc[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=qc[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(st.DashCase|st.Important)?e.style.setProperty(n,i,r&st.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&st.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Vy(i)):this.eventManager.addEventListener(e,n,Vy(i))}}class XR extends Qc{constructor(e,n,i,r){super(e),this.component=i;const s=ca(r+"-"+i.id,i.styles,[]);n.addStyles(s),this.contentAttr=function KR(t){return"_ngcontent-%COMP%".replace(Yc,t)}(r+"-"+i.id),this.hostAttr=function qR(t){return"_nghost-%COMP%".replace(Yc,t)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}class QR extends Qc{constructor(e,n,i,r){super(e),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ca(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let JR=(()=>{class t extends Ny{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return t.\u0275fac=function(n){return new(n||t)(q(Qt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const Hy=["alt","control","meta","shift"],tA={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uy={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},nA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let iA=(()=>{class t extends Ny{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,i,r){const s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_s().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(i.pop());let o="";if(Hy.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(n){let i="",r=function rA(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Uy.hasOwnProperty(e)&&(e=Uy[e]))}return tA[e]||e}(n);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Hy.forEach(s=>{s!=r&&nA[s](n)&&(i+=s+".")}),i+=r,i}static eventCallback(n,i,r){return s=>{t.getEventFullKey(s)===n&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(q(Qt))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const lA=ty(h1,"browser",[{provide:Y_,useValue:"browser"},{provide:q_,useValue:function sA(){Zc.makeCurrent(),Kc.init()},multi:!0},{provide:Qt,useFactory:function aA(){return function oD(t){ml=t}(document),document},deps:[]}]),uA=[{provide:Pu,useValue:"root"},{provide:Xr,useFactory:function oA(){return new Xr},deps:[]},{provide:la,useClass:JR,multi:!0,deps:[Qt,Ze,Y_]},{provide:la,useClass:iA,multi:!0,deps:[Qt]},{provide:Xc,useClass:Xc,deps:[ua,Ds,ps]},{provide:d_,useExisting:Xc},{provide:Ly,useExisting:Ds},{provide:Ds,useClass:Ds,deps:[Qt]},{provide:Ic,useClass:Ic,deps:[Ze]},{provide:ua,useClass:ua,deps:[la,Ze]},{provide:class VR{},useClass:zR,deps:[]}];let cA=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:ps,useValue:n.appId},{provide:Fy,useExisting:ps},$R]}}}return t.\u0275fac=function(n){return new(n||t)(q(t,12))},t.\u0275mod=xr({type:t}),t.\u0275inj=fi({providers:uA,imports:[NR,f1]}),t})();"undefined"!=typeof window&&window;const Pn=class DA{constructor(e){this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},ed=class CA{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function da(t,e){return t>e?1:t<e?-1:0}function td(t,e,n){const i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;{let r;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return"function"==typeof n?n(e,t[r-1],t[r])>0?r-1:r:t[r-1]-e<e-t[r]?r-1:r}return i-1}}function nd(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function ha(){return!0}function fa(){return!1}function ws(){}function Ts(t){for(const e in t)delete t[e]}const id=class bA extends ed{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(n)||r.push(n)}dispatchEvent(e){const n="string"==typeof e,i=n?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=n?new Pn(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});let l;i in o||(o[i]=0,a[i]=0),++o[i];for(let u=0,c=r.length;u<c;++u)if(l="handleEvent"in r[u]?r[u].handleEvent(s):r[u].call(this,s),!1===l||s.propagationStopped){l=!1;break}if(0==--o[i]){let u=a[i];for(delete a[i];u--;)this.removeEventListener(i,ws);delete o[i]}return l}disposeInternal(){this.listeners_&&Ts(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,n){const i=this.listeners_&&this.listeners_[e];if(i){const r=i.indexOf(n);-1!==r&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=ws,++this.pendingRemovals_[e]):(i.splice(r,1),0===i.length&&delete this.listeners_[e]))}}};function U(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){const o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function ga(t,e,n,i){return U(t,e,n,i,!0)}function de(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Ts(t))}const zy=class pa extends id{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=U(this,e[s],n);return r}return U(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=ga(this,e[s],n)}else i=ga(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)!function SA(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)de(t[e]);else de(t)}(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],n);else this.removeEventListener(e,n)}};function oe(){throw new Error("Unimplemented abstract method.")}let RA=0;function qe(t){return t.ol_uid||(t.ol_uid=String(++RA))}class Wy extends Pn{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}const hn=class AA extends zy{constructor(e){super(),qe(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Wy(i,e,n)),i="propertychange",this.hasListener(i)&&this.dispatchEvent(new Wy(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const r=this.values_||(this.values_={});if(i)r[e]=n;else{const s=r[e];r[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){!e.values_||Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],function MA(t){let e;for(e in t)return!1;return!e}(this.values_)&&(this.values_=null),n||this.notify(e,i)}}};class xA extends Error{constructor(e){const i="Assertion failed. See https://openlayers.org/en/v"+"7.0.0".split("-")[0]+"/doc/errors/#"+e+" for details.";super(i),this.code=e,this.name="AssertionError",this.message=i}}const Zy=xA;class ma extends Pn{constructor(e,n,i){super(e),this.element=n,this.index=i}}const fn=class PA extends hn{constructor(e,n){if(super(),this.unique_=!!(n=n||{}).unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get("length")}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new ma("add",n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ma("remove",n,e)),n}setAt(e,n){if(e>=this.getLength())return void this.insertAt(e,n);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const r=this.array_[e];this.array_[e]=n,this.dispatchEvent(new ma("remove",r,e)),this.dispatchEvent(new ma("add",n,e))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(e,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==n)throw new Zy(58)}},Fn="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",FA=Fn.includes("firefox"),NA=(Fn.includes("safari")&&!Fn.includes("chrom")&&(Fn.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Fn)),Fn.includes("webkit")&&!Fn.includes("edge")),LA=Fn.includes("macintosh"),qy="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,sd="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,OA="undefined"!=typeof Image&&Image.prototype.decode,Yy=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}return t}();function $(t,e){if(!t)throw new Zy(e)}function vt(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function rr(t,e,n,i,r,s,o,a){const l=Math.sin(s),u=Math.cos(s);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=o*i*u-a*i*l+e,t[5]=o*r*l+a*r*u+n,t}function ld(t,e){const n=function kA(t){return t[0]*t[3]-t[1]*t[2]}(e);$(0!==n,32);const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return t[0]=o/n,t[1]=-r/n,t[2]=-s/n,t[3]=i/n,t[4]=(s*l-o*a)/n,t[5]=-(i*l-r*a)/n,t}let Xy;new Array(6);function Jy(t){const e=[1/0,1/0,-1/0,-1/0];for(let n=0,i=t.length;n<i;++n)Ms(e,t[n]);return e}function ev(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function tv(t,e,n){let i,r;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+r*r}function ud(t,e){return nv(t,e[0],e[1])}function nv(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function iv(t,e){const o=e[0],a=e[1];let l=0;return o<t[0]?l|=16:o>t[2]&&(l|=4),a<t[1]?l|=8:a>t[3]&&(l|=2),0===l&&(l=1),l}function si(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function sr(t){return si(1/0,1/0,-1/0,-1/0,t)}function cd(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Ms(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function sv(t,e,n,i,r){for(;n<i;n+=r)zA(t,e[n],e[n+1]);return t}function zA(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function ov(t,e){let n;return n=e(ya(t)),!!(n||(n=e(va(t)),n)||(n=e(Ea(t)),n)||(n=e(oi(t)),n))&&n}function _a(t){let e=0;return fd(t)||(e=he(t)*Lt(t)),e}function ya(t){return[t[0],t[1]]}function va(t){return[t[2],t[1]]}function or(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function WA(t,e){let n;return"bottom-left"===e?n=ya(t):"bottom-right"===e?n=va(t):"top-left"===e?n=oi(t):"top-right"===e?n=Ea(t):$(!1,13),n}function dd(t,e,n,i,r){const[s,o,a,l,u,c,d,h]=hd(t,e,n,i);return si(Math.min(s,a,u,d),Math.min(o,l,c,h),Math.max(s,a,u,d),Math.max(o,l,c,h),r)}function hd(t,e,n,i){const r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=r*o,u=r*a,c=s*o,d=s*a,h=t[0],f=t[1];return[h-l+d,f-u-c,h-l-d,f-u+c,h+l-d,f+u+c,h+l+d,f+u-c,h-l+d,f-u-c]}function Lt(t){return t[3]-t[1]}function ar(t,e,n){const i=n||[1/0,1/0,-1/0,-1/0];return Da(t,e)?(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]):sr(i),i}function oi(t){return[t[0],t[3]]}function Ea(t){return[t[2],t[3]]}function he(t){return t[2]-t[0]}function Da(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function fd(t){return t[2]<t[0]||t[3]<t[1]}function Re(t,e,n){return Math.min(Math.max(t,e),n)}function XA(t,e,n,i,r,s){const o=r-n,a=s-i;if(0!==o||0!==a){const l=((t-n)*o+(e-i)*a)/(o*o+a*a);l>1?(n=r,i=s):l>0&&(n+=o*l,i+=a*l)}return lr(t,e,n,i)}function lr(t,e,n,i){const r=n-t,s=i-e;return r*r+s*s}function Ca(t){return t*Math.PI/180}function ai(t,e){const n=t%e;return n*e<0?n+e:n}function JA(t,e,n){return t+n*(e-t)}function gd(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function wa(t,e){return Math.floor(gd(t,e))}function Ta(t,e){return Math.ceil(gd(t,e))}const av=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,lv=/^([a-z]*)$|^hsla?\(.*\)$/i;const tx=function(){const e={};let n=0;return function(i){let r;if(e.hasOwnProperty(i))r=e[i];else{if(n>=1024){let s=0;for(const o in e)0==(3&s++)&&(delete e[o],--n)}r=function nx(t){let e,n,i,r,s;if(lv.exec(t)&&(t=function uv(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),av.exec(t)){const o=t.length-1;let a;a=o<=4?1:2;const l=4===o||8===o;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),i=parseInt(t.substr(1+2*a,a),16),r=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,l&&(r=(r<<4)+r)),s=[e,n,i,r/255]}else t.startsWith("rgba(")?(s=t.slice(5,-1).split(",").map(Number),dv(s)):t.startsWith("rgb(")?(s=t.slice(4,-1).split(",").map(Number),s.push(1),dv(s)):$(!1,14);return s}(i),e[i]=r,++n}return r}}();function cv(t){return Array.isArray(t)?t:tx(t)}function dv(t){return t[0]=Re(t[0]+.5|0,0,255),t[1]=Re(t[1]+.5|0,0,255),t[2]=Re(t[2]+.5|0,0,255),t[3]=Re(t[3],0,1),t}function hv(t,e,n){return e+":"+t+":"+(n?function ex(t){return"string"==typeof t?t:function ix(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}(t)}(n):"null")}const fv=new class rx{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];0==(3&e++)&&!i.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(e,n,i){const r=hv(e,n,i);return r in this.cache_?this.cache_[r]:null}set(e,n,i,r){const s=hv(e,n,i);this.cache_[s]=r,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}},gv=class sx extends hn{constructor(e){super(),this.background_=e.background;const n=Object.assign({},e);"object"==typeof e.properties&&(delete n.properties,Object.assign(n,e.properties)),n.opacity=void 0!==e.opacity?e.opacity:1,$("number"==typeof n.opacity,64),n.visible=void 0===e.visible||e.visible,n.zIndex=e.zIndex,n.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,n.minResolution=void 0!==e.minResolution?e.minResolution:0,n.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,n.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==n.className?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:void 0===e||e},i=this.getZIndex();return n.opacity=Re(Math.round(100*this.getOpacity())/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==i||n.managed?i:1/0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return oe()}getLayerStatesArray(e){return oe()}getExtent(){return this.get("extent")}getMaxResolution(){return this.get("maxResolution")}getMinResolution(){return this.get("minResolution")}getMinZoom(){return this.get("minZoom")}getMaxZoom(){return this.get("maxZoom")}getOpacity(){return this.get("opacity")}getSourceState(){return oe()}getVisible(){return this.get("visible")}getZIndex(){return this.get("zIndex")}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set("extent",e)}setMaxResolution(e){this.set("maxResolution",e)}setMinResolution(e){this.set("minResolution",e)}setMaxZoom(e){this.set("maxZoom",e)}setMinZoom(e){this.set("minZoom",e)}setOpacity(e){$("number"==typeof e,64),this.set("opacity",e)}setVisible(e){this.set("visible",e)}setZIndex(e){this.set("zIndex",e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}};function pd(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}const md=class ox extends gv{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener("source",this.handleSourcePropertyChange_),this.setSource(e.source?e.source:null)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get("source")||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed()}handleSourcePropertyChange_(){this.sourceChangeKey_&&(de(this.sourceChangeKey_),this.sourceChangeKey_=null);const e=this.getSource();e&&(this.sourceChangeKey_=U(e,"change",this.handleSourceChange_,this)),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(n=>n([]))}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}render(e,n){const i=this.getRenderer();if(i.prepareFrame(e))return this.rendered=!0,i.renderFrame(e,n)}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set("map",e)}getMapInternal(){return this.get("map")}setMap(e){this.mapPrecomposeKey_&&(de(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(de(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=U(e,"precompose",function(n){const r=n.frameState.layerStatesArray,s=this.getLayerState(!1);$(!r.some(function(o){return o.layer===s.layer}),67),r.push(s)},this),this.mapRenderKey_=U(this,"change",e.render,e),this.changed())}setSource(e){this.set("source",e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function Ia(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function _d(t,e){const n=Math.cos(e),i=Math.sin(e),s=t[1]*n+t[0]*i;return t[0]=t[0]*n-t[1]*i,t[1]=s,t}function px(t,e){fv.expire()}const mx=class gx extends ed{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){oe()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;rr(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),ld(r,i)}forEachFeatureAtCoordinate(e,n,i,r,s,o,a,l){let u;const c=n.viewState;function d(E,C,P,B){return s.call(o,C,E?P:null,B)}const h=c.projection,f=function hx(t,e){if(e.canWrapX()){const n=he(e.getExtent()),i=function fx(t,e,n){const i=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||he(i),r=Math.floor((t[0]-i[0])/n)),r}(t,e,n);i&&(t[0]-=i*n)}return t}(e.slice(),h),g=[[0,0]];if(h.canWrapX()&&r){const C=he(h.getExtent());g.push([-C,0],[C,0])}const p=n.layerStatesArray,_=p.length,y=[],m=[];for(let E=0;E<g.length;E++)for(let C=_-1;C>=0;--C){const P=p[C],B=P.layer;if(B.hasRenderer()&&pd(P,c)&&a.call(l,B)){const ee=B.getRenderer(),me=B.getSource();if(ee&&me){const Me=me.getWrapX()?f:e,Ye=d.bind(null,P.managed);m[0]=Me[0]+g[E][0],m[1]=Me[1]+g[E][1],u=ee.forEachFeatureAtCoordinate(m,n,i,Ye,y)}if(u)return u}}if(0===y.length)return;const v=1/y.length;return y.forEach((E,C)=>E.distanceSq+=C*v),y.sort((E,C)=>E.distanceSq-C.distanceSq),y.some(E=>u=E.callback(E.feature,E.layer,E.geometry)),u}hasFeatureAtCoordinate(e,n,i,r,s,o){return void 0!==this.forEachFeatureAtCoordinate(e,n,i,r,ha,this,s,o)}getMap(){return this.map_}renderFrame(e){oe()}scheduleExpireIconCache(e){fv.canExpireCache()&&e.postRenderFunctions.push(px)}},_v=class _x extends Pn{constructor(e,n,i,r){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=r}},Ma="ol-hidden",ur="ol-unselectable",yv="ol-unsupported",ba="ol-control",vv="ol-collapsed";new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i");function bs(t,e,n,i){let r;return r=n&&n.length?n.shift():sd?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}function Sa(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function yd(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}const gn=new hn;const Ix=class Tx extends mx{constructor(e){super(e),this.fontChangeListenerKey_=U(gn,"propertychange",e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=ur+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const r=new _v(e,void 0,n);i.dispatchEvent(r)}}disposeInternal(){de(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);const n=e.layerStatesArray.sort(function(o,a){return o.zIndex-a.zIndex}),i=e.viewState;this.children_.length=0;const r=[];let s=null;for(let o=0,a=n.length;o<a;++o){const l=n[o];e.layerIndex=o;const u=l.layer,c=u.getSourceState();if(!pd(l,i)||"ready"!=c&&"undefined"!=c){u.unrender();continue}const d=u.render(e,s);!d||(d!==s&&(this.children_.push(d),s=d),"getDeclutter"in u&&r.push(u))}for(let o=r.length-1;o>=0;--o)r[o].renderDeclutter(e);(function Dx(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){t.appendChild(s);continue}if(!s){t.removeChild(r),--i;continue}t.insertBefore(s,r)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}};class On extends Pn{constructor(e,n){super(e),this.layer=n}}class Cd extends gv{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),i?Array.isArray(i)?i=new fn(i.slice(),{unique:!0}):$("function"==typeof i.getArray,43):i=new fn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(de),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(U(e,"add",this.handleLayersAdd_,this),U(e,"remove",this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(de);Ts(this.listenerKeys_);const n=e.getArray();for(let i=0,r=n.length;i<r;i++){const s=n[i];this.registerLayerListeners_(s),this.dispatchEvent(new On("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[U(e,"propertychange",this.handleLayerChange_,this),U(e,"change",this.handleLayerChange_,this)];e instanceof Cd&&n.push(U(e,"addlayer",this.handleLayerGroupAdd_,this),U(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[qe(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new On("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new On("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new On("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=qe(n);this.listenerKeys_[i].forEach(de),delete this.listenerKeys_[i],this.dispatchEvent(new On("removelayer",n)),this.changed()}getLayers(){return this.get("layers")}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new On("removelayer",i[r]))}this.set("layers",e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=void 0!==e?e:[],i=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const r=this.getLayerState();let s=r.zIndex;!e&&void 0===r.zIndex&&(s=0);for(let o=i,a=n.length;o<a;o++){const l=n[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),void 0!==r.extent&&(l.extent=void 0!==l.extent?ar(l.extent,r.extent):r.extent),void 0===l.zIndex&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}const Aa=Cd,dr=class Mx extends Pn{constructor(e,n,i){super(e),this.map=n,this.frameState=void 0!==i?i:null}},kn=class bx extends dr{constructor(e,n,i,r,s,o){super(e,n,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==r&&r,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},fe={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Rx=class Sx extends id{constructor(e,n){super(e),this.map_=e,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===n?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=U(i,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=U(i,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener("touchmove",this.boundHandleTouchMove_,!!Yy&&{passive:!1})}emulateClick_(e){let n=new kn(fe.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new kn(fe.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;const i=new kn(fe.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}.bind(this),250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==fe.POINTERUP||n.type==fe.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==fe.POINTERDOWN||n.type==fe.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new kn(fe.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(de),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const n=new kn(fe.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.down_={};for(const i in e){const r=e[i];this.down_[i]="function"==typeof r?ws:r}if(0===this.dragListenerKeys_.length){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(U(i,fe.POINTERMOVE,this.handlePointerMove_,this),U(i,fe.POINTERUP,this.handlePointerUp_,this),U(this.element_,fe.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(U(this.element_.getRootNode(),fe.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new kn(fe.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new kn(fe.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(de(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(de(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(de),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},xa=1/0,Ot={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},hr={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},wv=class kx{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||hr[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Rs=6378137,fr=Math.PI*Rs,jx=[-fr,-fr,fr,fr],Vx=[-180,-85,180,85],Pa=Rs*Math.log(Math.tan(Math.PI/2));class gr extends wv{constructor(e){super({code:e,units:"m",extent:jx,global:!0,worldExtent:Vx,getPointResolution:function(n,i){return n/Math.cosh(i[1]/Rs)}})}}const Tv=[new gr("EPSG:3857"),new gr("EPSG:102100"),new gr("EPSG:102113"),new gr("EPSG:900913"),new gr("http://www.opengis.net/def/crs/EPSG/0/3857"),new gr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Bx(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let r=0;r<i;r+=n){e[r]=fr*t[r]/180;let s=Rs*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));s>Pa?s=Pa:s<-Pa&&(s=-Pa),e[r+1]=s}return e}function Hx(t,e,n){const i=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(i));for(let r=0;r<i;r+=n)e[r]=180*t[r]/fr,e[r+1]=360*Math.atan(Math.exp(t[r+1]/Rs))/Math.PI-90;return e}const Iv=[-180,-90,180,90],Gx=6378137*Math.PI/180;class li extends wv{constructor(e,n){super({code:e,units:"degrees",extent:Iv,axisOrientation:n,global:!0,metersPerUnit:Gx,worldExtent:Iv})}}const Mv=[new li("CRS:84"),new li("EPSG:4326","neu"),new li("urn:ogc:def:crs:OGC:1.3:CRS84"),new li("urn:ogc:def:crs:OGC:2:84"),new li("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new li("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new li("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Fa={},kt={};function Na(t,e,n){const i=t.getCode(),r=e.getCode();i in kt||(kt[i]={}),kt[i][r]=n}function Td(t,e,n){n=n||6371008.8;const i=Ca(t[1]),r=Ca(e[1]),s=(r-i)/2,o=Ca(e[0]-t[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}let Md=!0;function bd(t,e,n){if(void 0!==e)for(let i=0,r=t.length;i<r;++i)e[i]=t[i];else e=t.slice();return e}function Sd(t,e,n){if(void 0!==e&&t!==e){for(let i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function qx(t){(function zx(t,e){Fa[t]=e})(t.getCode(),t),Na(t,t,bd)}function Fe(t){return"string"==typeof t?function $x(t){return Fa[t]||Fa[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function ka(t,e,n,i){let r;const s=(t=Fe(t)).getPointResolutionFunc();if(s){if(r=s(e,n),i&&i!==t.getUnits()){const o=t.getMetersPerUnit();o&&(r=r*o/hr[i])}}else{const o=t.getUnits();if("degrees"==o&&!i||"degrees"==i)r=e;else{const a=mr(t,Fe("EPSG:4326"));if(a===Sd&&"degrees"!==o)r=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=a(u,u,2),r=(Td(u.slice(0,2),u.slice(2,4))+Td(u.slice(4,6),u.slice(6,8)))/2}const l=i?hr[i]:t.getMetersPerUnit();void 0!==l&&(r/=l)}}return r}function Sv(t){(function Yx(t){t.forEach(qx)})(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Na(e,n,bd)})})}function Rd(t,e){return t?"string"==typeof t?Fe(t):t:Fe(e)}function pr(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||mr(t,e)===bd)&&n}function mr(t,e){let r=function Wx(t,e){let n;return t in kt&&e in kt[t]&&(n=kt[t][e]),n}(t.getCode(),e.getCode());return r||(r=Sd),r}function As(t,e){return mr(Fe(t),Fe(e))}function _r(t,e,n){return As(e,n)(t,void 0,t.length)}function Ad(t,e,n,i){return function qA(t,e,n,i){let r=[];if(i>1){const a=t[2]-t[0],l=t[3]-t[1];for(let u=0;u<i;++u)r.push(t[0]+a*u/i,t[1],t[2],t[1]+l*u/i,t[2]-a*u/i,t[3],t[0],t[3]-l*u/i)}else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);const s=[],o=[];for(let a=0,l=r.length;a<l;a+=2)s.push(r[a]),o.push(r[a+1]);return function jA(t,e,n){return si(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(s,o,n)}(t,As(e,n),void 0,i)}let Ge=null;function Av(){return Ge}function xd(t,e){return t}function pn(t,e){return Md&&!Ia(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(Md=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function yr(t,e){return t}function xv(t,e,n){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;const l=e?0:s[0]*r,u=e?0:s[1]*r,c=a?a[0]:0,d=a?a[1]:0;let h=t[0]+l/2+c,f=t[2]-l/2+c,g=t[1]+u/2+d,p=t[3]-u/2+d;h>f&&(h=(f+h)/2,f=h),g>p&&(g=(p+g)/2,p=g);let _=Re(i[0],h,f),y=Re(i[1],g,p);if(o&&n&&r){const m=30*r;_+=-m*Math.log(1+Math.max(0,h-i[0])/m)+m*Math.log(1+Math.max(0,i[0]-f)/m),y+=-m*Math.log(1+Math.max(0,g-i[1])/m)+m*Math.log(1+Math.max(0,i[1]-p)/m)}return[_,y]}}function tP(t){return t}function Pd(t,e,n,i){const r=he(e)/n[0],s=Lt(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function Fd(t,e,n){let i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Re(i,n/2,2*e)}function Pv(t,e,n,i,r){return n=void 0===n||n,function(s,o,a,l){if(void 0!==s){const u=i?Pd(t,i,a,r):t;return n&&l?Fd(s,u,e):Re(s,e,u)}}}function Nd(t){if(void 0!==t)return 0}function Fv(t){if(void 0!==t)return t}function Nv(t){return Math.pow(t,3)}function vr(t){return 1-Nv(1-t)}function Ld(t){return 3*t*t-2*t*t*t}function oP(t){return t}!function eP(){Sv(Tv),Sv(Mv),function Xx(t,e,n,i){t.forEach(function(r){e.forEach(function(s){Na(r,s,n),Na(s,r,i)})})}(Mv,Tv,Bx,Hx)}();const Lv=[1,0,0,1,0,0],hP=class dP extends hn{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=function IA(t){let n,i,r,e=!1;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==r||!nd(s,i))&&(e=!0,r=this,i=s,n=t.apply(this,arguments)),n}}(function(e,n,i){if(!i)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return oe()}closestPointXY(e,n,i,r){return oe()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return this.closestPointXY(e[0],e[1],n=n||[NaN,NaN],1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return oe()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&sr(n),this.extentRevision_=this.getRevision()}return function ZA(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,e)}rotate(e,n){oe()}scale(e,n,i){oe()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return oe()}getType(){return oe()}applyTransform(e){oe()}intersectsExtent(e){return oe()}translate(e,n){oe()}transform(e,n){const i=Fe(e),r="tile-pixels"==i.getUnits()?function(s,o,a){const l=i.getExtent(),u=i.getWorldExtent(),c=Lt(u)/Lt(l);return rr(Lv,u[0],u[3],c,-c,0,0,0),function aP(t,e,n,i,r,s){s=s||[];let o=0;for(let a=e;a<n;a+=i){const l=t[a],u=t[a+1];s[o++]=r[0]*l+r[2]*u+r[4],s[o++]=r[1]*l+r[3]*u+r[5]}s&&s.length!=o&&(s.length=o)}(s,0,s.length,a,Lv,o),As(i,n)(s,o,a)}:As(i,n);return this.applyTransform(r),this}};function Ov(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}const Od=class fP extends hP{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return function UA(t,e,n,i,r){return sv(sr(r),t,e,n,i)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return oe()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=Ov(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){oe()}setLayout(e,n,i){let r;if(e)r=Ov(e);else{for(let s=0;s<i;++s){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}r=n.length,e=function gP(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();(function lP(t,e,n,i,r,s,o){o=o||[];const a=Math.cos(r),l=Math.sin(r),u=s[0],c=s[1];let d=0;for(let h=e;h<n;h+=i){const f=t[h]-u,g=t[h+1]-c;o[d++]=u+f*a-g*l,o[d++]=c+f*l+g*a;for(let p=h+2;p<h+i;++p)o[d++]=t[p]}o&&o.length!=d&&(o.length=d)})(i,0,i.length,r,e,n,i),this.changed()}}scale(e,n,i){void 0===n&&(n=e),i||(i=or(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();(function uP(t,e,n,i,r,s,o,a){a=a||[];const l=o[0],u=o[1];let c=0;for(let d=e;d<n;d+=i){const f=t[d+1]-u;a[c++]=l+r*(t[d]-l),a[c++]=u+s*f;for(let g=d+2;g<d+i;++g)a[c++]=t[g]}a&&a.length!=c&&(a.length=c)})(r,0,r.length,s,e,n,i,r),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();(function cP(t,e,n,i,r,s,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+r,o[a++]=t[l+1]+s;for(let u=l+2;u<l+i;++u)o[a++]=t[u]}o&&o.length!=a&&(o.length=a)})(i,0,i.length,r,e,n,i),this.changed()}}};function kv(t,e,n,i,r,s,o){const a=t[e],l=t[e+1],u=t[n]-a,c=t[n+1]-l;let d;if(0===u&&0===c)d=e;else{const h=((r-a)*u+(s-l)*c)/(u*u+c*c);if(h>1)d=n;else{if(h>0){for(let f=0;f<i;++f)o[f]=JA(t[e+f],t[n+f],h);return void(o.length=i)}d=e}}for(let h=0;h<i;++h)o[h]=t[d+h];o.length=i}function jv(t,e,n,i,r){let s=t[e],o=t[e+1];for(e+=i;e<n;e+=i){const a=t[e],l=t[e+1],u=lr(s,o,a,l);u>r&&(r=u),s=a,o=l}return r}function Bv(t,e,n,i,r,s,o,a,l,u,c){if(e==n)return u;let d,h;if(0===r){if(h=lr(o,a,t[e],t[e+1]),h<u){for(d=0;d<i;++d)l[d]=t[e+d];return l.length=i,h}return u}c=c||[NaN,NaN];let f=e+i;for(;f<n;)if(kv(t,f-i,f,i,o,a,c),h=lr(o,a,c[0],c[1]),h<u){for(u=h,d=0;d<i;++d)l[d]=c[d];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(h)-Math.sqrt(u))/r|0,1);if(s&&(kv(t,n-i,e,i,o,a,c),h=lr(o,a,c[0],c[1]),h<u)){for(u=h,d=0;d<i;++d)l[d]=c[d];l.length=i}return u}function Uv(t,e,n,i){for(let r=0,s=n.length;r<s;++r){const o=n[r];for(let a=0;a<i;++a)t[e++]=o[a]}return e}function Er(t,e){return e*Math.round(t/e)}function yP(t,e,n,i,r,s,o){if(e==n)return o;let u,c,a=Er(t[e],r),l=Er(t[e+1],r);e+=i,s[o++]=a,s[o++]=l;do{if(u=Er(t[e],r),c=Er(t[e+1],r),(e+=i)==n)return s[o++]=u,s[o++]=c,o}while(u==a&&c==l);for(;e<n;){const d=Er(t[e],r),h=Er(t[e+1],r);if(e+=i,d==u&&h==c)continue;const f=u-a,g=c-l,p=d-a,_=h-l;f*_==g*p&&(f<0&&p<f||f==p||f>0&&p>f)&&(g<0&&_<g||g==_||g>0&&_>g)?(u=d,c=h):(s[o++]=u,s[o++]=c,a=u,l=c,u=d,c=h)}return s[o++]=u,s[o++]=c,o}function zv(t,e,n,i,r){r=void 0!==r?r:[];let s=0;for(let o=e;o<n;o+=i)r[s++]=t.slice(o,o+i);return r.length=s,r}function Zv(t,e,n,i){let r=0,s=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const a=t[e],l=t[e+1];r+=o*a-s*l,s=a,o=l}return r/2}class ja extends Od{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}clone(){return new ja(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,r){return r<tv(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(jv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,r))}getArea(){return Zv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return zv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=function kd(t,e,n,i,r,s,o){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)s[o++]=t[e],s[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,n-i];let c=0;for(;u.length>0;){const d=u.pop(),h=u.pop();let f=0;const g=t[h],p=t[h+1],_=t[d],y=t[d+1];for(let m=h+i;m<d;m+=i){const C=XA(t[m],t[m+1],g,p,_,y);C>f&&(c=m,f=C)}f>r&&(l[(c-e)/i]=1,h+i<c&&u.push(h,c),c+i<d&&u.push(c,d))}for(let d=0;d<a;++d)l[d]&&(s[o++]=t[e+d*i],s[o++]=t[e+d*i+1]);return o}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new ja(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Uv(this.flatCoordinates,0,e,this.stride),this.changed()}}const qv=ja;class jd extends Od{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new jd(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){const s=this.flatCoordinates,o=lr(e,n,s[0],s[1]);if(o<r){const a=this.stride;for(let l=0;l<a;++l)i[l]=s[l];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return function HA(t,e){const n=t[0],i=t[1];return si(n,i,n,i,e)}(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return nv(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function pP(t,e,n,i){for(let r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}(this.flatCoordinates,0,e),this.changed()}}const vP=jd;function EP(t,e,n,i,r){return!ov(r,function(o){return!ui(t,e,n,i,o[0],o[1])})}function ui(t,e,n,i,r,s){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const u=t[e],c=t[e+1];l<=s?c>s&&(u-a)*(s-l)-(r-a)*(c-l)>0&&o++:c<=s&&(u-a)*(s-l)-(r-a)*(c-l)<0&&o--,a=u,l=c}return 0!==o}function Vd(t,e,n,i,r,s){if(0===n.length||!ui(t,e,n[0],i,r,s))return!1;for(let o=1,a=n.length;o<a;++o)if(ui(t,n[o-1],n[o],i,r,s))return!1;return!0}function Bd(t,e,n,i,r){const s=sv([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Da(r,s)&&(!!(function BA(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3])||function DP(t,e,n,i,r){let s;for(e+=i;e<n;e+=i)if(s=r(t.slice(e-i,e),t.slice(e,e+i)),s)return s;return!1}(t,e,n,i,function(o,a){return function KA(t,e,n){let i=!1;const r=iv(t,e),s=iv(t,n);if(1===r||1===s)i=!0;else{const o=t[0],a=t[1],l=t[2],u=t[3],h=n[0],f=n[1],g=(f-e[1])/(h-e[0]);let p,_;!!(2&s)&&!(2&r)&&(p=h-(f-u)/g,i=p>=o&&p<=l),!i&&!!(4&s)&&!(4&r)&&(_=f-(h-l)*g,i=_>=a&&_<=u),!i&&!!(8&s)&&!(8&r)&&(p=h-(f-a)/g,i=p>=o&&p<=l),!i&&16&s&&!(16&r)&&(_=f-(h-o)*g,i=_>=a&&_<=u)}return i}(r,o,a)}))}function Xv(t,e,n,i,r){return!!(Bd(t,e,n,i,r)||ui(t,e,n,i,r[0],r[1])||ui(t,e,n,i,r[0],r[3])||ui(t,e,n,i,r[2],r[1])||ui(t,e,n,i,r[2],r[3]))}function CP(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function Hd(t,e,n,i){let r=0,s=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const a=t[e],l=t[e+1];r+=(a-s)*(l+o),s=a,o=l}return 0===r?void 0:r>0}function Ud(t,e,n,i,r){r=void 0!==r&&r;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=Hd(t,e,a,i);(0===s?r&&l||!r&&!l:r&&!l||!r&&l)&&CP(t,e,a,i),e=a}return e}class ci extends Od{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?function wA(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new ci(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<tv(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function Vv(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const a=n[s];r=jv(t,e,a,i,r),e=a}return r}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function Hv(t,e,n,i,r,s,o,a,l,u,c){c=c||[NaN,NaN];for(let d=0,h=n.length;d<h;++d){const f=n[d];u=Bv(t,e,f,i,r,s,o,a,l,u,c),e=f}return u}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return Vd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return function Kv(t,e,n,i){let r=0;for(let s=0,o=n.length;s<o;++s){const a=n[s];r+=Zv(t,e,a,i),e=a}return r}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return void 0!==e?(n=this.getOrientedFlatCoordinates().slice(),Ud(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,function Wv(t,e,n,i,r){r=void 0!==r?r:[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];r[s++]=zv(t,e,l,i,r[s]),e=l}return r.length=s,r}(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=or(this.getExtent());this.flatInteriorPoint_=function Yv(t,e,n,i,r,s,o){let a,l,u,c,d,h,f;const g=r[s+1],p=[];for(let m=0,v=n.length;m<v;++m){const E=n[m];for(c=t[E-i],h=t[E-i+1],a=e;a<E;a+=i)d=t[a],f=t[a+1],(g<=h&&f<=g||h<=g&&g<=f)&&(u=(g-h)/(f-h)*(d-c)+c,p.push(u)),c=d,h=f}let _=NaN,y=-1/0;for(p.sort(da),c=p[0],a=1,l=p.length;a<l;++a){d=p[a];const m=Math.abs(d-c);m>y&&(u=(c+d)/2,Vd(t,e,n,i,u,g)&&(_=u,y=m)),c=d}return isNaN(_)&&(_=r[s]),o?(o.push(_,g,y),o):[_,g,y]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new vP(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new qv(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],u=new qv(n.slice(s,l),e);r.push(u),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function Jv(t,e,n,i,r){r=void 0!==r&&r;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=Hd(t,e,a,i);if(0===s){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Ud(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=function $v(t,e,n,i,r,s,o,a){for(let l=0,u=n.length;l<u;++l){const c=n[l];o=yP(t,e,c,i,r,s,o),a.push(o),e=c}return o}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new ci(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return function Qv(t,e,n,i,r){if(!Xv(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(let s=1,o=n.length;s<o;++s)if(EP(t,n[s-1],n[s],i,r)&&!Bd(t,n[s-1],n[s],i,r))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=function Gv(t,e,n,i,r){r=r||[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=Uv(t,e,n[o],i);r[s++]=l,e=l}return r.length=s,r}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()}}const wP=ci;function e0(t){const e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new ci(s,"XY",[s.length])}function Va(t,e){setTimeout(function(){t(e)},0)}function $d(t,e,n,i,r){const s=Math.cos(-r);let o=Math.sin(-r),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;return a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o,[a*s-l*o,l*s+a*o]}const Vn=class IP extends hn{constructor(e){super(),e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.projection_=Rd(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,e.projection&&function bv(t){Md=!(void 0===t||t)}(),e.center&&(e.center=pn(e.center)),e.extent&&(e.extent=yr(e.extent)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in Ot)delete n[a];this.setProperties(n,!0);const i=function bP(t){let e,n,i,o=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28;const l=void 0!==t.zoomFactor?t.zoomFactor:2,u=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,h=Rd(t.projection,"EPSG:3857"),f=h.getExtent();let g=t.constrainOnlyCenter,p=t.extent;if(!u&&!p&&h.isGlobal()&&(g=!1,p=f),void 0!==t.resolutions){const _=t.resolutions;n=_[o],i=void 0!==_[a]?_[a]:_[_.length-1],e=t.constrainResolution?function nP(t,e,n,i){return e=void 0===e||e,function(r,s,o,a){if(void 0!==r){const l=t[0],u=t[t.length-1],c=n?Pd(l,n,o,i):l;if(a)return e?Fd(r,c,u):Re(r,u,c);const d=Math.min(c,r),h=Math.floor(td(t,d,s));return t[h]>c&&h<t.length-1?t[h+1]:t[h]}}}(_,c,!g&&p,d):Pv(n,i,c,!g&&p,d)}else{const y=(f?Math.max(he(f),Lt(f)):360*hr.degrees/h.getMetersPerUnit())/256/Math.pow(2,0),m=y/Math.pow(2,28);n=t.maxResolution,void 0!==n?o=0:n=y/Math.pow(l,o),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):y/Math.pow(l,a):m),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),e=t.constrainResolution?function iP(t,e,n,i,r,s){return i=void 0===i||i,n=void 0!==n?n:0,function(o,a,l,u){if(void 0!==o){const c=r?Pd(e,r,l,s):e;if(u)return i?Fd(o,c,n):Re(o,n,c);const d=1e-9,h=Math.ceil(Math.log(e/c)/Math.log(t)-d),f=-a*(.5-d)+.5,g=Math.min(c,o),p=Math.floor(Math.log(e/g)/Math.log(t)+f),_=Math.max(h,p);return Re(e/Math.pow(t,_),n,c)}}}(l,n,i,c,!g&&p,d):Pv(n,i,c,!g&&p,d)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=function MP(t){if(void 0!==t.extent)return xv(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);const e=Rd(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,xv(n,!1,!1)}return tP}(e),s=i.constraint,o=function SP(t){if(void 0===t.enableRotation||t.enableRotation){const n=t.constrainRotation;return void 0===n||!0===n?function sP(t){return t=t||Ca(5),function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}():!1===n?Fv:"number"==typeof n?function rP(t){const e=2*Math.PI/t;return function(n,i){return i?n:void 0!==n?n=Math.floor(n/e+.5)*e:void 0}}(n):Fv}return Nd}(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenter();if(i){const r=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution();this.setCenterInternal([i[0]+s/2*(r[3]-n[3]+n[1]-r[1]),i[1]-s/2*(r[0]-n[0]+n[2]-r[2])])}}getUpdatedOptions_(e){const n=this.getProperties();return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=pn(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=pn(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(e){let i,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const c=arguments[r];c.center&&this.setCenterInternal(c.center),void 0!==c.zoom?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),void 0!==c.rotation&&this.setRotation(c.rotation)}if(r===n)return void(i&&Va(i,!0));let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;r<n;++r){const c=arguments[r],d={start:s,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Ld,callback:i};if(c.center&&(d.sourceCenter=o,d.targetCenter=c.center.slice(),o=d.targetCenter),void 0!==c.zoom?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(c.zoom),a=d.targetResolution):c.resolution&&(d.sourceResolution=a,d.targetResolution=c.resolution,a=d.targetResolution),void 0!==c.rotation){d.sourceRotation=l;const h=ai(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+h,l=d.targetRotation}(t=d).sourceCenter&&t.targetCenter&&!Ia(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation?s+=d.duration:d.complete=!0,u.push(d)}var t;this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let n=0,i=this.animations_.length;n<i;++n){const r=this.animations_[n];if(r[0].callback&&Va(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){const a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let s=!0;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l.complete)continue;const u=e-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):s=!1;const d=l.easing(c);if(l.sourceCenter){const h=l.sourceCenter[0],f=l.sourceCenter[1],g=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter,this.targetCenter_=[h+d*(g-h),f+d*(p-f)]}if(l.sourceResolution&&l.targetResolution){const h=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(h,0,f,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){const h=1===d?ai(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&Va(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const r=this.getCenterInternal();return void 0!==r&&(i=[r[0]-n[0],r[1]-n[1]],_d(i,e-this.getRotation()),function ax(t,e){t[0]+=+e[0],t[1]+=+e[1]}(i,n)),i}calculateCenterZoom(e,n){let i;const r=this.getCenterInternal(),s=this.getResolution();return void 0!==r&&void 0!==s&&(i=[n[0]-e*(n[0]-r[0])/s,n[1]-e*(n[1]-r[1])/s]),i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],r=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&xd(e,this.getProjection())}getCenterInternal(){return this.get(Ot.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return function Jx(t,e){return t}(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();$(n,1);const i=this.getResolution();$(void 0!==i,2);const r=this.getRotation();return $(void 0!==r,3),dd(n,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Ot.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(yr(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=he(e)/n[0],r=Lt(e)/n[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=Math.log(n/this.minResolution_)/Math.log(e);return function(s){return n/Math.pow(e,s*r)}}getRotation(){return this.get(Ot.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),s=Math.log(i/this.minResolution_)/n;return function(o){return Math.log(i/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=$d(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,i)}return{center:r.slice(0),projection:void 0!==e?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getZoom(){let e;const n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let i,r,n=this.minZoom_||0;if(this.resolutions_){const s=td(this.resolutions_,e,1);n=s,i=this.resolutions_[s],r=s==this.resolutions_.length-1?2:i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Re(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],Re(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if($(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))$(!fd(e),25),i=e0(yr(e,this.getProjection()));else if("Circle"===e.getType()){const r=yr(e.getExtent(),this.getProjection());i=e0(r),i.rotate(this.getRotation(),or(r))}else{const r=Av();i=r?e.clone().transform(r,this.getProjection()):e}this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let d=0,h=s.length;d<h;d+=o){const f=s[d]*i-s[d+1]*r,g=s[d]*r+s[d+1]*i;a=Math.min(a,f),l=Math.min(l,g),u=Math.max(u,f),c=Math.max(c,g)}return[a,l,u,c]}fitInternal(e,n){let i=(n=n||{}).size;i||(i=this.getViewportSizeMinusPadding_());const r=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;let o;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const u=this.getRotation(),c=Math.sin(u),d=Math.cos(u),h=or(a);h[0]+=(r[1]-r[3])/2*l,h[1]+=(r[0]-r[2])/2*l;const p=this.getConstrainedCenter([h[0]*d-h[1]*c,h[1]*d+h[0]*c],l),_=n.callback?n.callback:ws;void 0!==n.duration?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},_):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),Va(_,!0))}centerOn(e,n,i){this.centerOnInternal(pn(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal($d(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,r){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-i),l=$d(e,r,[a[0]/2+o[3],a[1]/2+o[0]],n,i);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const n=xd(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&pn(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=pn(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&pn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(Ot.ROTATION)!==r&&this.set(Ot.ROTATION,r),this.get(Ot.RESOLUTION)!==o&&(this.set(Ot.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Ot.CENTER)||!Ia(this.get(Ot.CENTER),a))&&this.set(Ot.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=void 0!==e?e:200;const r=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,void this.applyTargetState_();i=i||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!Ia(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:vr,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,n,i){i=i&&pn(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.setHint(1,-1),this.resolveConstraints(e,n,i)}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}},Dr=class AP extends hn{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){yd(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&yd(this.element);for(let n=0,i=this.listenerKeys.length;n<i;++n)de(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ws&&this.listenerKeys.push(U(e,"postrender",this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},PP=class xP extends Dr{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const n=void 0!==e.className?e.className:"ol-attribution",i=void 0!==e.tipLabel?e.tipLabel:"Attributions",r=void 0!==e.expandClassName?e.expandClassName:n+"-expand",s=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",o=void 0!==e.collapseClassName?e.collapseClassName:n+"-collapse";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=void 0!==e.label?e.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener("click",this.handleClick_.bind(this),!1);const c=this.element;c.className=n+" "+ur+" "+ba+(this.collapsed_&&this.collapsible_?" "+vv:"")+(this.collapsible_?"":" ol-uncollapsible"),c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n={},i=[];let r=!0;const s=e.layerStatesArray;for(let o=0,a=s.length;o<a;++o){const l=s[o];if(!pd(l,e.viewState))continue;const u=l.layer.getSource();if(!u)continue;const c=u.getAttributions();if(!c)continue;const d=c(e);if(d)if(r=r&&!1!==u.getAttributionsCollapsible(),Array.isArray(d))for(let h=0,f=d.length;h<f;++h)d[h]in n||(i.push(d[h]),n[d[h]]=!0);else d in n||(i.push(d),n[d]=!0)}return this.overrideCollapsible_||this.setCollapsible(r),i}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const n=this.collectSourceAttributions_(e),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!nd(n,this.renderedAttributions_)){!function Ex(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(let r=0,s=n.length;r<s;++r){const o=document.createElement("li");o.innerHTML=n[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(vv),this.collapsed_?Sa(this.collapseLabel_,this.label_):Sa(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},NP=class FP extends Dr{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=void 0!==e.className?e.className:"ol-rotate",i=void 0!==e.label?e.label:"\u21e7",r=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof i?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener("click",this.handleClick_.bind(this),!1);const l=this.element;l.className=n+" "+ur+" "+ba,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Ma)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();void 0!==i&&(this.duration_>0&&i%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:vr}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(Ma);s||0!==i?s&&0!==i&&this.element.classList.remove(Ma):this.element.classList.add(Ma)}this.label_.style.transform=r}this.rotation_=i}},OP=class LP extends Dr{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=void 0!==e.className?e.className:"ol-zoom",i=void 0!==e.delta?e.delta:1,r=void 0!==e.zoomInClassName?e.zoomInClassName:n+"-in",s=void 0!==e.zoomOutClassName?e.zoomOutClassName:n+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",a=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",l=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",u=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof o?document.createTextNode(o):o),c.addEventListener("click",this.handleClick_.bind(this,i),!1);const d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=u,d.appendChild("string"==typeof a?document.createTextNode(a):a),d.addEventListener("click",this.handleClick_.bind(this,-i),!1);const f=this.element;f.className=n+" "+ur+" "+ba,f.appendChild(c),f.appendChild(d),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(void 0!==r){const s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:vr})):i.setZoom(s)}}};function t0(t){t=t||{};const e=new fn;return(void 0===t.zoom||t.zoom)&&e.push(new OP(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new NP(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new PP(t.attributionOptions)),e}function zd(t,e,n,i){const r=t.getZoom();if(void 0===r)return;const s=t.getConstrainedZoom(r+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:void 0!==i?i:250,easing:vr})}const xs=class kP extends hn{constructor(e){super(),e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set("active",e)}setMap(e){this.map_=e}},BP=class VP extends xs{constructor(e){super(),this.delta_=(e=e||{}).delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let n=!1;if(e.type==fe.DBLCLICK){const i=e.originalEvent,s=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_;zd(e.map.getView(),o,s,this.duration_),i.preventDefault(),n=!0}return!n}};function Wd(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}const Ps=class HP extends xs{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==fe.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==fe.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==fe.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==fe.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function Zd(t){const e=arguments;return function(n){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](n),i);++r);return i}}const UP=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},r0=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},$P=ha,s0=function(t){const e=t.originalEvent;return 0==e.button&&!(NA&&LA&&e.ctrlKey)},o0=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},zP=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},a0=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},Kd=function(t){const e=t.originalEvent;return $(void 0!==e,56),"mouse"==e.pointerType},WP=function(t){const e=t.originalEvent;return $(void 0!==e,56),e.isPrimary&&0===e.button},KP=class ZP extends Ps{constructor(e){super({stopDown:fa}),this.kinetic_=(e=e||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const n=e.condition?e.condition:Zd(o0,WP);this.condition_=e.onFocusOnly?Zd(r0,n):n,this.noKinetic_=!1}handleDragEvent(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());const n=this.targetPointers,i=Wd(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const r=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=e.map.getView();(function cx(t,e){t[0]*=e,t[1]*=e})(r,o.getResolution()),_d(r,o.getRotation()),o.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:vr})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},YP=class qP extends Ps{constructor(e){e=e||{},super({stopDown:fa}),this.condition_=e.condition?e.condition:UP,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!Kd(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===Nd)return;const r=n.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);void 0!==this.lastAngle_&&i.adjustRotationInternal(-(o-this.lastAngle_)),this.lastAngle_=o}handleUpEvent(e){return!Kd(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!(Kd(e)&&s0(e)&&this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}},QP=class XP extends ed{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],n[0])+i,r.top=Math.min(e[1],n[1])+i,r.width=Math.abs(n[0]-e[0])+i,r.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,r=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new wP([r])}getGeometry(){return this.geometry_}};class qd extends Pn{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}const eF=class JP extends Ps{constructor(e){super(),this.box_=new QP((e=e||{}).className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:s0,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const r=i[0]-n[0],s=i[1]-n[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new qd("boxdrag",e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new qd(n?"boxend":"boxcancel",e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new qd("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}},nF=class tF extends eF{constructor(e){super({condition:(e=e||{}).condition?e.condition:zP,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),a=i.getResolution()/o;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:vr})}},rF=class iF extends xs{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return o0(n)&&a0(n)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let n=!1;if("keydown"==e.type){const i=e.originalEvent,r=i.keyCode;if(this.condition_(e)&&(40==r||37==r||39==r||38==r)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,u=0;40==r?u=-a:37==r?l=-a:39==r?l=a:u=a;const c=[l,u];_d(c,o.getRotation()),function jP(t,e,n){const i=t.getCenterInternal();i&&t.animateInternal({duration:void 0!==n?n:250,easing:oP,center:t.getConstrainedCenter([i[0]+e[0],i[1]+e[1]])})}(o,c,this.duration_),i.preventDefault(),n=!0}}return!n}},oF=class sF extends xs{constructor(e){super(),this.condition_=(e=e||{}).condition?e.condition:a0,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let n=!1;if("keydown"==e.type||"keypress"==e.type){const i=e.originalEvent,r=i.charCode;if(this.condition_(e)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){const s=e.map,o=r=="+".charCodeAt(0)?this.delta_:-this.delta_;zd(s.getView(),o,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}},cF=class uF extends xs{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const n=e.condition?e.condition:$P;this.condition_=e.onFocusOnly?Zd(r0,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||"wheel"!==e.type)return!0;const i=e.map,r=e.originalEvent;let s;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(s=r.deltaY,FA&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=qy),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),0===s)return!1;this.lastDelta_=s;const o=Date.now();void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=i.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-Re(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),zd(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},hF=class dF extends Ps{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=fa),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(void 0!==this.lastAngle_){const c=s-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=c}this.lastAngle_=s;const o=e.map,a=o.getView();if(a.getConstraints().rotation===Nd)return;const l=o.getViewport().getBoundingClientRect(),u=Wd(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=o.getCoordinateFromPixelInternal(u),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_))}handleUpEvent(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},gF=class fF extends Ps{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=fa),super(n),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=Math.sqrt(s*s+o*o);void 0!==this.lastDistance_&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,u=l.getView();1!=n&&(this.lastScaleDelta_=n);const c=l.getViewport().getBoundingClientRect(),d=Wd(this.targetPointers);d[0]-=c.left,d[1]-=c.top,this.anchor_=l.getCoordinateFromPixelInternal(d),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}};function l0(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function u0(t){return t[0]>0&&t[1]>0}function c0(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function jt(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function d0(t){t instanceof md?t.setMapInternal(null):t instanceof Aa&&t.getLayers().forEach(d0)}function h0(t,e){if(t instanceof md)t.setMapInternal(e);else if(t instanceof Aa){const n=t.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)h0(n[i],e)}}const yF=class mF extends hn{constructor(e){super();const n=function _F(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Aa({layers:t.layers});let r,s,o;return n.layergroup=i,n.target=t.target,n.view=t.view instanceof Vn?t.view:new Vn,void 0!==t.controls&&(Array.isArray(t.controls)?r=new fn(t.controls.slice()):($("function"==typeof t.controls.getArray,47),r=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?s=new fn(t.interactions.slice()):($("function"==typeof t.interactions.getArray,48),s=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new fn(t.overlays.slice()):($("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new fn,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}(e=e||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:qy,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.controls=n.controls||t0(),this.interactions=n.interactions||function pF(t){t=t||{};const e=new fn,n=new class aF{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;const s=this.points_[n]-this.points_[i],o=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new YP),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new BP({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new KP({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new hF),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new gF({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new rF),e.push(new oF({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new cF({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new nF({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new class Px extends class Ax{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Ts(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){$(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=xa&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,r=n.length,s=n[e],o=i[e],a=e;for(;e<r>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<r&&i[u]<i[l]?u:l;n[e]=n[c],i[e]=i[c],e=c}n[e]=s,i[e]=o,this.siftDown_(a,e)}siftDown_(e,n){const i=this.elements_,r=this.priorities_,s=i[n],o=r[n];for(;n>e;){const a=this.getParentIndex_(n);if(!(r[a]>o))break;i[n]=i[a],r[n]=r[a],n=a}i[n]=s,r[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let r=0;const s=n.length;let o,a,l;for(a=0;a<s;++a)o=n[a],l=e(o),l==xa?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=l,n[r++]=o);n.length=r,i.length=r,this.heapify_()}}{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(2===i||3===i||4===i){3!==i&&n.removeEventListener("change",this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r,s,o,i=0;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),r=s.getState(),0===r&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,s.load())}}(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener("layergroup",this.handleLayerGroupChanged_),this.addChangeListener("view",this.handleViewChanged_),this.addChangeListener("size",this.handleSizeChanged_),this.addChangeListener("target",this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof Vn)&&e.view.then(function(r){i.setView(new Vn(r))}),this.controls.addEventListener("add",function(r){r.element.setMap(this)}.bind(this)),this.controls.addEventListener("remove",function(r){r.element.setMap(null)}.bind(this)),this.interactions.addEventListener("add",function(r){r.element.setMap(this)}.bind(this)),this.interactions.addEventListener("remove",function(r){r.element.setMap(null)}.bind(this)),this.overlays_.addEventListener("add",function(r){this.addOverlayInternal_(r.element)}.bind(this)),this.overlays_.addEventListener("remove",function(r){const s=r.element.getId();void 0!==s&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}.bind(this)),this.controls.forEach(function(r){r.setMap(this)}.bind(this)),this.interactions.forEach(function(r){r.setMap(this)}.bind(this)),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){h0(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance:0,!1!==i.checkWrapped,n,null,void 0!==i.layerFilter?i.layerFilter:ha,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},n),i}getAllLayers(){const e=[];return function n(i){i.forEach(function(r){r instanceof Aa?n(r.getLayers()):e.push(r)})}(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:ha,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const n=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-n.left,i.clientY-n.top]}getTarget(){return this.get("target")}getTargetElement(){const e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null}getCoordinateFromPixel(e){return xd(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?vt(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get("layergroup")}setLayers(e){const n=this.getLayerGroup();if(e instanceof fn)return void n.setLayers(e);const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=pn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?vt(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get("size")}getView(){return this.get("view")}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,r){return function Nx(t,e,n,i,r){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return xa;const s=t.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}(this.frameState_,e,n,i,r)}handleBrowserEvent(e,n){const i=new kn(n=n||e.type,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if("pointerdown"===i||"wheel"===i||"keydown"===i){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===r?r.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.getMap()===this&&o.getActive()&&this.getTargetElement()&&(!o.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const o=e.viewHints;if(o[0]||o[1]){const a=Date.now()-e.time>8;r=a?0:8,s=a?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new dr("loadend",this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new dr("loadstart",this,e))));const i=this.postRenderFunctions_;for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let n=0,i=this.targetChangeHandlerKeys_.length;n<i;++n)de(this.targetChangeHandlerKeys_[n]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,yd(this.viewport_)}const e=this.getTargetElement();if(e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Ix(this)),this.mapBrowserEventHandler_=new Rx(this,this.moveTolerance_);for(const r in fe)this.mapBrowserEventHandler_.addEventListener(fe[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!Yy&&{passive:!1});const n=this.getOwnerDocument().defaultView,i=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[U(i,"keydown",this.handleBrowserEvent,this),U(i,"keypress",this.handleBrowserEvent,this),U(n,"resize",this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(de(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(de(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=U(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=U(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(de),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new On("addlayer",e)),this.layerGroupPropertyListenerKeys_=[U(e,"propertychange",this.render,this),U(e,"change",this.render,this),U(e,"addlayer",this.handleLayerAdd_,this),U(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){d0(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),r=this.frameState_;let s=null;if(void 0!==n&&u0(n)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:dd(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:qe(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=dd(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!fd(this.previousExtent_)&&!cd(s.extent,this.previousExtent_))&&(this.dispatchEvent(new dr("movestart",this,r)),this.previousExtent_=sr(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!cd(s.extent,this.previousExtent_)&&(this.dispatchEvent(new dr("moveend",this,s)),function VA(t,e){e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):t.slice()}(s.extent,this.previousExtent_))),this.dispatchEvent(new dr("postrender",this,s)),this.renderComplete_=this.hasListener("loadstart")||this.hasListener("loadend")||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new On("removelayer",n)),this.set("layergroup",e)}setSize(e){this.set("size",e)}setTarget(e){this.set("target",e)}setView(e){if(!e||e instanceof Vn)return void this.set("view",e);this.set("view",new Vn);const n=this;e.then(function(i){n.setView(new Vn(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),r=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(r)&&!isNaN(s)&&(n=[r,s],!u0(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(n),this.updateViewportSize_()}updateViewportSize_(){const e=this.getView();if(e){let n;const i=getComputedStyle(this.viewport_);i.width&&i.height&&(n=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(n)}}},EF=class vF extends md{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(e){this.set("preload",e)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(e){this.set("useInterimTilesOnError",e)}getData(e){return super.getData(e)}},CF=class DF extends zy{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return oe()}getData(e){return null}prepareFrame(e){return oe()}renderFrame(e,n){return oe()}loadedTileCallback(e,n,i){e[n]||(e[n]={}),e[n][i.tileCoord.toString()]=i}createLoadedTileFinder(e,n,i){return function(r,s){const o=this.loadedTileCallback.bind(this,i,r);return e.forEachLoadedTile(n,r,s,o)}.bind(this)}forEachFeatureAtCoordinate(e,n,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){2===e.target.getState()&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return 2!=n&&3!=n&&e.addEventListener("change",this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}};let Cr=null;const IF=class TF extends CF{constructor(e){super(e),this.container=null,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,i){let r;Cr||function wF(){const t=document.createElement("canvas");t.width=1,t.height=1,Cr=t.getContext("2d")}(),Cr.clearRect(0,0,1,1);try{Cr.drawImage(e,n,i,1,1,0,0,1,1),r=Cr.getImageData(0,0,1,1).data}catch(s){return Cr=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return"function"==typeof i&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const r=this.getLayer().getClassName();let s,o;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&nd(cv(e.style.backgroundColor),cv(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=bs();const l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const r=oi(i),s=Ea(i),o=va(i),a=ya(i);vt(n.coordinateToPixelTransform,r),vt(n.coordinateToPixelTransform,s),vt(n.coordinateToPixelTransform,o),vt(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;vt(l,r),vt(l,s),vt(l,o),vt(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}dispatchRenderEvent_(e,n,i){const r=this.getLayer();if(r.hasListener(e)){const s=new _v(e,this.inversePixelTransform,i,n);r.dispatchEvent(s)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_("prerender",e,n)}postRender(e,n){this.dispatchRenderEvent_("postrender",e,n)}getRenderTransform(e,n,i,r,s,o,a){const c=r/n;return rr(this.tempTransform,s/2,o/2,c,-c,-i,-e[0]+a,-e[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}},f0=class MF extends id{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent("change")}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){oe()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(i){if(-1===i)return 1}else i=n,this.transitionStarts_[e]=i;const r=n-i+1e3/60;return r>=this.transition_?1:Nv(r/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}};const p0=class bF extends f0{constructor(e,n,i,r,s,o){super(e,n,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function SF(){const t=bs(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function g0(t,e,n){const i=t;let r=!0,s=!1,o=!1;const a=[ga(i,"load",function(){o=!0,s||e()})];return i.src&&OA?(s=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(o?e():n())})):a.push(ga(i,"error",n)),function(){r=!1,a.forEach(de)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};let Yd;const _0=[];function y0(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function Xd(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Qd(t,e,n,i){const r=_r(n,e,t);let s=ka(e,i,n);const o=e.getMetersPerUnit();void 0!==o&&(s*=o);const a=t.getMetersPerUnit();void 0!==a&&(s/=a);const l=t.getExtent();if(!l||ud(l,r)){const u=ka(t,s,r)/s;isFinite(u)&&u>0&&(s/=u)}return s}const v0=class OF extends f0{constructor(e,n,i,r,s,o,a,l,u,c,d,h){super(s,0,{interpolate:!!h}),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const f=r.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const _=g?ar(f,g):f;if(0===_a(_))return void(this.state=4);const y=e.getExtent();y&&(p=p?ar(p,y):y);const m=r.getResolution(this.wrappedTileCoord_[0]),v=function NF(t,e,n,i){const r=or(n);let s=Qd(t,e,r,i);return(!isFinite(s)||s<=0)&&ov(n,function(o){return s=Qd(t,e,o,i),isFinite(s)&&s>0}),s}(e,i,_,m);if(!isFinite(v)||v<=0)return void(this.state=4);if(this.triangulation_=new class xF{constructor(e,n,i,r,s,o){this.sourceProj_=e,this.targetProj_=n;let a={};const l=As(this.targetProj_,this.sourceProj_);this.transformInv_=function(m){const v=m[0]+"/"+m[1];return a[v]||(a[v]=l(m)),a[v]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&he(r)==he(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?he(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?he(this.targetProj_.getExtent()):null;const u=oi(i),c=Ea(i),d=va(i),h=ya(i),f=this.transformInv_(u),g=this.transformInv_(c),p=this.transformInv_(d),_=this.transformInv_(h),y=10+(o?Math.max(0,Math.ceil(Math.log2(_a(i)/(o*o*256*256)))):0);if(this.addQuad_(u,c,d,h,f,g,p,_,y),this.wrapsXInSource_){let m=1/0;this.triangles_.forEach(function(v,E,C){m=Math.min(m,v.source[0][0],v.source[1][0],v.source[2][0])}),this.triangles_.forEach(function(v){if(Math.max(v.source[0][0],v.source[1][0],v.source[2][0])-m>this.sourceWorldWidth_/2){const E=[[v.source[0][0],v.source[0][1]],[v.source[1][0],v.source[1][1]],[v.source[2][0],v.source[2][1]]];E[0][0]-m>this.sourceWorldWidth_/2&&(E[0][0]-=this.sourceWorldWidth_),E[1][0]-m>this.sourceWorldWidth_/2&&(E[1][0]-=this.sourceWorldWidth_),E[2][0]-m>this.sourceWorldWidth_/2&&(E[2][0]-=this.sourceWorldWidth_);const C=Math.min(E[0][0],E[1][0],E[2][0]);Math.max(E[0][0],E[1][0],E[2][0])-C<this.sourceWorldWidth_/2&&(v.source=E)}}.bind(this))}a={}}addTriangle_(e,n,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,n,i]})}addQuad_(e,n,i,r,s,o,a,l,u){const c=Jy([s,o,a,l]),d=this.sourceWorldWidth_?he(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1;let g=!1;if(u>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(g=he(Jy([e,n,i,r]))/this.targetWorldWidth_>.25||g),!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)),!g&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Da(c,this.maxSourceExtent_))return;let p=0;if(!(g||isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(u>0)g=!0;else if(p=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(u>0){if(!g){const y=this.transformInv_([(e[0]+i[0])/2,(e[1]+i[1])/2]);let m;m=f?(ai(s[0],h)+ai(a[0],h))/2-ai(y[0],h):(s[0]+a[0])/2-y[0];const v=(s[1]+a[1])/2-y[1];g=m*m+v*v>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const _=[(n[0]+i[0])/2,(n[1]+i[1])/2],y=this.transformInv_(_),m=[(r[0]+e[0])/2,(r[1]+e[1])/2],v=this.transformInv_(m);this.addQuad_(e,n,_,m,s,o,y,v,u-1),this.addQuad_(m,_,i,r,v,y,a,l,u-1)}else{const _=[(e[0]+n[0])/2,(e[1]+n[1])/2],y=this.transformInv_(_),m=[(i[0]+r[0])/2,(i[1]+r[1])/2],v=this.transformInv_(m);this.addQuad_(e,_,m,r,s,y,v,l,u-1),this.addQuad_(_,n,i,m,y,o,a,v,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(e,i,r,s,a,l),0==(14&p)&&this.addTriangle_(e,i,n,s,a,o),p&&(0==(13&p)&&this.addTriangle_(n,r,e,o,l,s),0==(7&p)&&this.addTriangle_(n,r,i,o,l,a))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(n,i,r){const s=n.source;Ms(e,s[0]),Ms(e,s[1]),Ms(e,s[2])}),e}getTriangles(){return this.triangles_}}(e,i,_,p,v*(void 0!==c?c:.5),m),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=n.getZForResolution(v);let C=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(C[1]=Re(C[1],p[1],p[3]),C[3]=Re(C[3],p[1],p[3])):C=ar(C,p)),_a(C)){const P=n.getTileRangeForExtentAndZ(C,this.sourceZ_);for(let B=P.minX;B<=P.maxX;B++)for(let ee=P.minY;ee<=P.maxY;ee++){const me=u(this.sourceZ_,B,ee,a);me&&this.sourceTiles_.push(me)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(function(n,i,r){n&&2==n.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=3;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r="number"==typeof i?i:i[0],s="number"==typeof i?i:i[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function LF(t,e,n,i,r,s,o,a,l,u,c,d){const h=bs(Math.round(n*t),Math.round(n*e),_0);if(d||(h.imageSmoothingEnabled=!1),0===l.length)return h.canvas;function f(E){return Math.round(E*n)/n}h.scale(n,n),h.globalCompositeOperation="lighter";const g=[1/0,1/0,-1/0,-1/0];l.forEach(function(E,C,P){!function GA(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}(g,E.extent)});const p=he(g),_=Lt(g),y=bs(Math.round(n*p/i),Math.round(n*_/i));d||(y.imageSmoothingEnabled=!1);const m=n/i;l.forEach(function(E,C,P){const B=E.extent[0]-g[0],ee=-(E.extent[3]-g[3]),me=he(E.extent),Me=Lt(E.extent);E.image.width>0&&E.image.height>0&&y.drawImage(E.image,u,u,E.image.width-2*u,E.image.height-2*u,B*m,ee*m,me*m,Me*m)});const v=oi(o);return a.getTriangles().forEach(function(E,C,P){const B=E.source,ee=E.target;let me=B[0][0],Me=B[0][1],Ye=B[1][0],Dt=B[1][1],Ct=B[2][0],mn=B[2][1];const Xe=f((ee[0][0]-v[0])/s),at=f(-(ee[0][1]-v[1])/s),Y=f((ee[1][0]-v[0])/s),lt=f(-(ee[1][1]-v[1])/s),_n=f((ee[2][0]-v[0])/s),Jt=f(-(ee[2][1]-v[1])/s),hi=me,Qe=Me;me=0,Me=0,Ye-=hi,Dt-=Qe,Ct-=hi,mn-=Qe;const be=function QA(t){const e=t.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(t[i][i]);for(let a=i+1;a<e;a++){const l=Math.abs(t[a][i]);l>s&&(s=l,r=a)}if(0===s)return null;const o=t[r];t[r]=t[i],t[i]=o;for(let a=i+1;a<e;a++){const l=-t[a][i]/t[i][i];for(let u=i;u<e+1;u++)i==u?t[a][u]=0:t[a][u]+=l*t[i][u]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}([[Ye,Dt,0,0,Y-Xe],[Ct,mn,0,0,_n-Xe],[0,0,Ye,Dt,lt-at],[0,0,Ct,mn,Jt-at]]);if(be){if(h.save(),h.beginPath(),function FF(){if(void 0===Yd){const t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",y0(t,4,5,4,0),y0(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Yd=Xd(e,0)||Xd(e,4)||Xd(e,8)}return Yd}()||!d){h.moveTo(Y,lt);const De=4,Tr=Xe-Y,Hn=at-lt;for(let Je=0;Je<De;Je++)h.lineTo(Y+f((Je+1)*Tr/De),lt+f(Je*Hn/(De-1))),Je!=De-1&&h.lineTo(Y+f((Je+1)*Tr/De),lt+f((Je+1)*Hn/(De-1)));h.lineTo(_n,Jt)}else h.moveTo(Y,lt),h.lineTo(Xe,at),h.lineTo(_n,Jt);h.clip(),h.transform(be[0],be[2],be[1],be[3],Xe,at),h.translate(g[0]-hi,g[3]-Qe),h.scale(i/n,-i/n),h.drawImage(y.canvas,0,0),h.restore()}}),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,a.getTriangles().forEach(function(E,C,P){const B=E.target,ee=(B[0][0]-v[0])/s,me=-(B[0][1]-v[1])/s,Me=(B[1][0]-v[0])/s,Ye=-(B[1][1]-v[1])/s,Dt=(B[2][0]-v[0])/s,Ct=-(B[2][1]-v[1])/s;h.beginPath(),h.moveTo(Me,Ye),h.lineTo(ee,me),h.lineTo(Dt,Ct),h.closePath(),h.stroke()}),h.restore()),h.canvas}(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(n,i,r){const s=n.getState();if(0==s||1==s){e++;const o=U(n,"change",function(a){const l=n.getState();(2==l||3==l||4==l)&&(de(o),e--,0===e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}.bind(this)),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,i,r){0==n.getState()&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(de),this.sourcesListenerKeys_=null}release(){this.canvas_&&(function vx(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}(this.canvas_.getContext("2d")),_0.push(this.canvas_),this.canvas_=null),super.release()}};class E0{constructor(e,n,i,r){this.minX=e,this.maxX=n,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function wr(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new E0(t,e,n,i)}const D0=E0,jF=class kF extends IF{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new D0(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),i=e.getState(),r=n.getUseInterimTilesOnError();return 2==i||4==i||3==i&&!r}getTile(e,n,i,r){const s=r.pixelRatio,o=r.viewState.projection,a=this.getLayer();let u=a.getSource().getTile(e,n,i,s,o);return 3==u.getState()&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=vt(n.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!ud(s,r))return null;const o=n.pixelRatio,a=n.viewState.projection,l=n.viewState,u=i.getRenderSource(),c=u.getTileGridForProjection(l.projection),d=u.getTilePixelRatio(n.pixelRatio);for(let h=c.getZForResolution(l.resolution);h>=c.getMinZoom();--h){const f=c.getTileCoordForCoordAndZ(r,h),g=u.getTile(h,f[1],f[2],o,a);if(!(g instanceof p0||g instanceof v0))return null;if(2!==g.getState())continue;const p=c.getOrigin(h),_=jt(c.getTileSize(h)),y=c.getResolution(h),m=Math.floor(d*((r[0]-p[0])/y-f[1]*_[0])),v=Math.floor(d*((p[1]-r[1])/y-f[2]*_[1])),E=Math.round(d*u.getGutterForProjection(l.projection));return this.getImageData(g.getImage(),m+E,v+E)}return null}loadedTileCallback(e,n,i){return!!this.isDrawableTile(i)&&super.loadedTileCallback(e,n,i)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,a=r.center,l=r.rotation,u=e.pixelRatio,c=this.getLayer(),d=c.getSource(),h=d.getRevision(),f=d.getTileGridForProjection(s),g=f.getZForResolution(o,d.zDirection),p=f.getResolution(g);let _=e.extent;const y=e.viewState.resolution,m=d.getTilePixelRatio(u),v=Math.round(he(_)/y*u),E=Math.round(Lt(_)/y*u),C=i.extent&&yr(i.extent);C&&(_=ar(_,yr(i.extent)));const P=p*v/2/m,B=p*E/2/m,ee=[a[0]-P,a[1]-B,a[0]+P,a[1]+B],me=f.getTileRangeForExtentAndZ(_,g),Me={};Me[g]={};const Ye=this.createLoadedTileFinder(d,s,Me),Dt=this.tmpExtent,Ct=this.tmpTileRange_;this.newTiles_=!1;const mn=l?hd(r.center,y,l,e.size):void 0;for(let en=me.minX;en<=me.maxX;++en)for(let be=me.minY;be<=me.maxY;++be){if(l&&!f.tileCoordIntersectsViewport([g,en,be],mn))continue;const De=this.getTile(g,en,be,e);if(this.isDrawableTile(De)){const Je=qe(this);if(2==De.getState()){Me[g][De.tileCoord.toString()]=De;let Ir=De.inTransition(Je);Ir&&1!==i.opacity&&(De.endTransition(Je),Ir=!1),!this.newTiles_&&(Ir||!this.renderedTiles.includes(De))&&(this.newTiles_=!0)}if(1===De.getAlpha(Je,e.time))continue}const Tr=f.getTileCoordChildTileRange(De.tileCoord,Ct,Dt);let Hn=!1;Tr&&(Hn=Ye(g+1,Tr)),Hn||f.forEachTileCoordParentTileRange(De.tileCoord,Ye,Ct,Dt)}const Xe=p/o*u/m;rr(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,l,-v/2,-E/2);const at=function Qy(t){const e="matrix("+t.join(", ")+")";if(sd)return e;const n=Xy||(Xy=document.createElement("div"));return n.style.transform=e,n.style.transform}(this.pixelTransform);this.useContainer(n,at,this.getBackground(e));const Y=this.context,lt=Y.canvas;ld(this.inversePixelTransform,this.pixelTransform),rr(this.tempTransform,v/2,E/2,Xe,Xe,0,-v/2,-E/2),lt.width!=v||lt.height!=E?(lt.width=v,lt.height=E):this.containerReused||Y.clearRect(0,0,v,E),C&&this.clipUnrotated(Y,e,C),d.getInterpolate()||(Y.imageSmoothingEnabled=!1),this.preRender(Y,e),this.renderedTiles.length=0;let Jt,hi,Qe,_n=Object.keys(Me).map(Number);_n.sort(da),1!==i.opacity||this.containerReused&&!d.getOpaque(e.viewState.projection)?(Jt=[],hi=[]):_n=_n.reverse();for(let en=_n.length-1;en>=0;--en){const be=_n[en],De=d.getTilePixelSize(be,u,s),Hn=f.getResolution(be)/p,Je=De[0]*Hn*Xe,Ir=De[1]*Hn*Xe,ih=f.getTileCoordForCoordAndZ(oi(ee),be),k0=f.getTileCoordExtent(ih),Ga=vt(this.tempTransform,[m*(k0[0]-ee[0])/p,m*(ee[3]-k0[3])/p]),RN=m*d.getGutterForProjection(s),j0=Me[be];for(const AN in j0){const Mr=j0[AN],V0=Mr.tileCoord,B0=ih[1]-V0[1],xN=Math.round(Ga[0]-(B0-1)*Je),H0=ih[2]-V0[2],PN=Math.round(Ga[1]-(H0-1)*Ir),yn=Math.round(Ga[0]-B0*Je),vn=Math.round(Ga[1]-H0*Ir),Os=xN-yn,ks=PN-vn,U0=g===be,G0=U0&&1!==Mr.getAlpha(qe(this),e.time);let rh=!1;if(!G0)if(Jt){Qe=[yn,vn,yn+Os,vn,yn+Os,vn+ks,yn,vn+ks];for(let $a=0,FN=Jt.length;$a<FN;++$a)if(g!==be&&be<hi[$a]){const wt=Jt[$a];Da([yn,vn,yn+Os,vn+ks],[wt[0],wt[3],wt[4],wt[7]])&&(rh||(Y.save(),rh=!0),Y.beginPath(),Y.moveTo(Qe[0],Qe[1]),Y.lineTo(Qe[2],Qe[3]),Y.lineTo(Qe[4],Qe[5]),Y.lineTo(Qe[6],Qe[7]),Y.moveTo(wt[6],wt[7]),Y.lineTo(wt[4],wt[5]),Y.lineTo(wt[2],wt[3]),Y.lineTo(wt[0],wt[1]),Y.clip())}Jt.push(Qe),hi.push(be)}else Y.clearRect(yn,vn,Os,ks);this.drawTileImage(Mr,e,yn,vn,Os,ks,RN,U0),Jt&&!G0?(rh&&Y.restore(),this.renderedTiles.unshift(Mr)):this.renderedTiles.push(Mr),this.updateUsedTiles(e.usedTiles,d,Mr)}}return this.renderedRevision=h,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!cd(this.renderedExtent_,ee),this.renderedExtent_=ee,this.renderedPixelRatio=u,this.renderedProjection=s,this.manageTilePyramid(e,d,f,u,s,_,g,c.getPreload()),this.scheduleExpireCache(e,d),this.postRender(Y,e),i.extent&&Y.restore(),Y.imageSmoothingEnabled=!0,at!==lt.style.transform&&(lt.style.transform=at),this.container}drawTileImage(e,n,i,r,s,o,a,l){const u=this.getTileImage(e);if(!u)return;const c=qe(this),d=n.layerStatesArray[n.layerIndex],h=d.opacity*(l?e.getAlpha(c,n.time):1),f=h!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,i,r,s,o),f&&this.context.restore(),h!==d.opacity?n.animate=!0:l&&e.endTransition(c)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const i=function(r,s,o){const a=qe(r);a in o.usedTiles&&r.expireCache(o.viewState.projection,o.usedTiles[a])}.bind(null,n);e.postRenderFunctions.push(i)}}updateUsedTiles(e,n,i){const r=qe(n);r in e||(e[r]={}),e[r][i.getKey()]=!0}manageTilePyramid(e,n,i,r,s,o,a,l,u){const c=qe(n);c in e.wantedTiles||(e.wantedTiles[c]={});const d=e.wantedTiles[c],h=e.tileQueue,f=i.getMinZoom(),g=e.viewState.rotation,p=g?hd(e.viewState.center,e.viewState.resolution,g,e.size):void 0;let y,m,v,E,C,P,_=0;for(P=f;P<=a;++P)for(m=i.getTileRangeForExtentAndZ(o,P,m),v=i.getResolution(P),E=m.minX;E<=m.maxX;++E)for(C=m.minY;C<=m.maxY;++C)g&&!i.tileCoordIntersectsViewport([P,E,C],p)||(a-P<=l?(++_,y=n.getTile(P,E,C,r,s),0==y.getState()&&(d[y.getKey()]=!0,h.isKeyQueued(y.getKey())||h.enqueue([y,c,i.getTileCoordCenter(y.tileCoord),v])),void 0!==u&&u(y)):n.useTile(P,E,C,s));n.updateCacheSize(_,s)}},BF=class VF extends EF{constructor(e){super(e)}createRenderer(){return new jF(this)}},C0=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];function T0(t){const e=t.body;return!!(e.webkitRequestFullscreen||e.requestFullscreen&&t.fullscreenEnabled)}function I0(t){return!(!t.webkitIsFullScreen&&!t.fullscreenElement)}function M0(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}const $F=class HF extends Dr{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target}),this.keys_=void 0!==e.keys&&e.keys,this.source_=e.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=void 0!==e.className?e.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const n=void 0!==e.label?e.label:"\u2922";this.labelNode_="string"==typeof n?document.createTextNode(n):n;const i=void 0!==e.labelActive?e.labelActive:"\xd7";this.labelActiveNode_="string"==typeof i?document.createTextNode(i):i;const r=e.tipLabel?e.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=r,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener("click",this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${ur} ${ba}`,this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const e=this.getMap();if(!e)return;const n=e.getOwnerDocument();if(T0(n))if(I0(n))!function GF(t){t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()}(n);else{let i;i=this.source_?"string"==typeof this.source_?n.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function UF(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():M0(t)}(i):M0(i)}}handleFullScreenChange_(){const e=this.getMap();if(!e)return;const n=this.isInFullscreen_;this.isInFullscreen_=I0(e.getOwnerDocument()),n!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(Sa(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(Sa(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),e.updateSize())}setClassName_(e,n){n?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){const n=this.getMap();n&&n.removeChangeListener("target",this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener("target",this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const e=this.documentListeners_;for(let i=0,r=e.length;i<r;++i)de(e[i]);e.length=0;const n=this.getMap();if(n){const i=n.getOwnerDocument();T0(i)?this.element.classList.remove(yv):this.element.classList.add(yv);for(let r=0,s=C0.length;r<s;++r)e.push(U(i,C0[r],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}};function b0(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function Ns(t,e,n){return t+"/"+e+"/"+n}function S0(t){return Ns(t[0],t[1],t[2])}function R0(t){return(t[1]<<t[0])+t[2]}const A0=class qF extends class zF{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return $(void 0!==i,15),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return $(void 0!==n,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let i,n=0;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let i,n=0;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){$(!(e in this.entries_),16);const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const i=function ZF(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(r){r.tileCoord[0]!==i&&(this.remove(S0(r.tileCoord)),r.release())}.bind(this))}};function x0(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const XF=class YF extends hn{constructor(e){super(),this.projection=Fe(e.projection),this.attributions_=x0(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(){return oe()}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=x0(e),this.changed()}setState(e){this.state_=e,this.changed()}},QF=[0,0,0];function P0(t){let e=t.getDefaultTileGrid();return e||(e=function iN(t,e,n,i){return function nN(t,e,n,i){i=void 0!==i?i:"top-left";const r=function F0(t,e,n,i){e=void 0!==e?e:42,n=jt(void 0!==n?n:256);const r=Lt(t),s=he(t);i=i>0?i:Math.max(s/n[0],r/n[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}(t,e,n);return new class JF{constructor(e){let n;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,$(function TA(t,e,n){const i=e||da;return t.every(function(r,s){if(0===s)return!0;const o=i(t[s-1],r);return!(o>0||n&&0===o)})}(this.resolutions_,function(r,s){return s-r},!0),17),!e.origins)for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(n){if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}else n=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,$(this.origins_.length==this.resolutions_.length,20));const i=e.extent;void 0!==i&&!this.origin_&&!this.origins_&&(this.origin_=oi(i)),$(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,$(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:256,$(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(r,s){const o=new D0(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o},this):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const r=this.getTileRangeForExtentAndZ(e,n);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)i([n,s,a])}forEachTileCoordParentTileRange(e,n,i,r){let s,o,a,l=null,u=e[0]-1;for(2===this.zoomFactor_?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);u>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),s=wr(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(l,u,i),n(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const s=2*e[1],o=2*e[2];return wr(s,s+1,o,o+1,n)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const r=e[0],s=e[1],o=e[2];if(n===r)return wr(s,o,s,o,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-r),u=Math.floor(s*l),c=Math.floor(o*l);return n<r?wr(u,u,c,c,i):wr(u,Math.floor(l*(s+1))-1,c,Math.floor(l*(o+1))-1,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeExtent(e,n,i){const r=this.getOrigin(e),s=this.getResolution(e),o=jt(this.getTileSize(e),this.tmpSize_);return si(r[0]+n.minX*o[0]*s,r[1]+n.minY*o[1]*s,r[0]+(n.maxX+1)*o[0]*s,r[1]+(n.maxY+1)*o[1]*s,i)}getTileRangeForExtentAndZ(e,n,i){const r=QF;this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,r);const s=r[1],o=r[2];return this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,r),wr(s,r[1],o,r[2],i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=jt(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*r[0]*i,n[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=jt(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*s[0]*r,a=i[1]-(e[2]+1)*s[1]*r;return si(o,a,o+s[0]*r,a+s[1]*r,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,r,s){const o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),u=jt(this.getTileSize(o),this.tmpSize_);let c=a*(e-l[0])/i/u[0],d=a*(l[1]-n)/i/u[1];return r?(c=Ta(c,5)-1,d=Ta(d,5)-1):(c=wa(c,5),d=wa(d,5)),b0(o,c,d,s)}getTileCoordForXYAndZ_(e,n,i,r,s){const o=this.getOrigin(i),a=this.getResolution(i),l=jt(this.getTileSize(i),this.tmpSize_);let u=(e-o[0])/a/l[0],c=(o[1]-n)/a/l[1];return r?(u=Ta(u,5)-1,c=Ta(c,5)-1):(u=wa(u,5),c=wa(c,5)),b0(i,u,c,s)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){return Re(td(this.resolutions_,e,n||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return Xv(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}({extent:t,origin:WA(t,i),resolutions:r,tileSize:n})}(N0(t),e,n,i)}(t),t.setDefaultTileGrid(e)),e}function N0(t){let e=(t=Fe(t)).getExtent();if(!e){const n=180*hr.degrees/t.getMetersPerUnit();e=si(-n,-n,n,n)}return e}class sN extends Pn{constructor(e,n){super(e),this.tile=n}}const oN=class rN extends XF{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&jt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new A0(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const i=this.getTileCacheForProjection(e);i&&i.expireCache(n)}forEachLoadedTile(e,n,i,r){const s=this.getTileCacheForProjection(e);if(!s)return!1;let a,l,u,o=!0;for(let c=i.minX;c<=i.maxX;++c)for(let d=i.minY;d<=i.maxY;++d)l=Ns(n,c,d),u=!1,s.containsKey(l)&&(a=s.get(l),u=2===a.getState(),u&&(u=!1!==r(a))),u||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(){return this.tileGrid?this.tileGrid.getResolutions():null}getTile(e,n,i,r,s){return oe()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:P0(e)}getTileCacheForProjection(e){const n=this.getProjection();return $(null===n||pr(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(n),o=jt(r.getTileSize(e),this.tmpSize);return 1==s?o:c0(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=void 0!==n?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=function tN(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),s=N0(n);if(ud(s,r))return e;{const o=he(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,t.getTileCoordForCoordAndZ(r,i)}}(i,e,n)),function KF(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return!s||s.containsXY(i,r)}(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const i=this.getTileCacheForProjection(n);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,n,i,r){}};function aN(t,e){const n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(o,a,l){if(o)return t.replace(n,o[0].toString()).replace(i,o[1].toString()).replace(r,o[2].toString()).replace(s,function(){const c=e.getFullTileRange(o[0]);return $(c,55),(c.getHeight()-o[2]-1).toString()})}}class eh extends oN{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===eh.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=qe(n),r=n.getState();let s;1==r?(this.tileLoadingKeys_[i]=!0,s="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=s&&this.dispatchEvent(new sN(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==n?this.setKey(n):this.changed()}setUrl(e){const n=function cN(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function lN(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=aN(t[r],e);return function uN(t){return 1===t.length?t[0]:function(e,n,i){if(e){const s=ai(R0(e),t.length);return t[s](e,n,i)}}}(i)}(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}useTile(e,n,i){const r=Ns(e,n,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}const dN=eh;function fN(t,e){t.getImage().src=e}const gN=class hN extends dN{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:fN,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:p0,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?n:{});for(const r in this.tileCacheForProjection){const s=this.tileCacheForProjection[r];s.expireCache(s==i?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!pr(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!pr(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||pr(n,e)))return this.tileGrid;{const i=qe(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=P0(e)),this.tileGridForProjection[i]}}getTileCacheForProjection(e){const n=this.getProjection();if(!n||pr(n,e))return this.tileCache;{const i=qe(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new A0(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}}createTile_(e,n,i,r,s,o){const a=[e,n,i],l=this.getTileCoordForTileUrlFunction(a,s),u=l?this.tileUrlFunction(l,r,s):void 0,c=new this.tileClass(a,void 0!==u?0:4,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener("change",this.handleTileChange.bind(this)),c}getTile(e,n,i,r,s){const o=this.getProjection();if(!o||!s||pr(o,s))return this.getTileInternal(e,n,i,r,o||s);{const a=this.getTileCacheForProjection(s),l=[e,n,i];let u;const c=S0(l);a.containsKey(c)&&(u=a.get(c));const d=this.getKey();if(u&&u.key==d)return u;{const h=this.getTileGridForProjection(o),f=this.getTileGridForProjection(s),g=this.getTileCoordForTileUrlFunction(l,s),p=new v0(o,h,s,f,l,g,this.getTilePixelRatio(r),this.getGutter(),function(_,y,m,v){return this.getTileInternal(_,y,m,v,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return p.key=d,u?(p.interimTile=u,p.refreshInterimChain(),a.replace(c,p)):a.set(c,p),p}}}getTileInternal(e,n,i,r,s){let o=null;const a=Ns(e,n,i),l=this.getKey();if(this.tileCache.containsKey(a)){if(o=this.tileCache.get(a),o.key!=l){const u=o;o=this.createTile_(e,n,i,r,s,l),o.interimTile=0==u.getState()?u.interimTile:u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(e,n,i,r,s,l),this.tileCache.set(a,o);return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const i=Fe(e);if(i){const r=qe(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}},Ua="1.3.0";function L0(t,e){const n=[];Object.keys(e).forEach(function(r){null!=e[r]&&n.push(r+"="+encodeURIComponent(e[r]))});const i=n.join("&");return t=t.replace(/[?&]$/,""),(t+=t.includes("?")?"&":"?")+i}const _N=class mN extends gN{constructor(e){const n=(e=e||{}).params||{};super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!(!("TRANSPARENT"in n)||n.TRANSPARENT),projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=[1/0,1/0,-1/0,-1/0],this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,n,i,r){const s=Fe(i),o=this.getProjection();let a=this.getTileGrid();a||(a=this.getTileGridForProjection(s));const l=a.getZForResolution(n,this.zDirection),u=a.getTileCoordForCoordAndZ(e,l);if(a.getResolutions().length<=u[0])return;let c=a.getResolution(u[0]),d=a.getTileCoordExtent(u,this.tmpExtent_),h=jt(a.getTileSize(u[0]),this.tmpSize);const f=this.gutter_;0!==f&&(h=l0(h,f,this.tmpSize),d=ev(d,c*f,d)),o&&o!==s&&(c=Qd(o,s,e,c),d=Ad(d,s,o),e=_r(e,s,o));const g={SERVICE:"WMS",VERSION:Ua,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(g,this.params_,r);const p=Math.floor((e[0]-d[0])/c),_=Math.floor((d[3]-e[1])/c);return g[this.v13_?"I":"X"]=p,g[this.v13_?"J":"Y"]=_,this.getRequestUrl_(u,h,d,1,o||s,g)}getLegendUrl(e,n){if(void 0===this.urls[0])return;const i={SERVICE:"WMS",VERSION:Ua,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===n||void 0===n.LAYER){const r=this.params_.LAYERS;if(Array.isArray(r)&&1!==r.length)return;i.LAYER=r}if(void 0!==e){const r=this.getProjection()?this.getProjection().getMetersPerUnit():1;i.SCALE=e*r/28e-5}return Object.assign(i,n),L0(this.urls[0],i)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,n,i,r,s,o){const a=this.urls;if(!a)return;if(o.WIDTH=n[0],o.HEIGHT=n[1],o[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=r)switch(this.serverType_){case"geoserver":const d=90*r+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+d:o.FORMAT_OPTIONS="dpi:"+d;break;case"mapserver":o.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":o.DPI=90*r;break;default:$(!1,52)}const l=s.getAxisOrientation(),u=i;if(this.v13_&&"ne"==l.substr(0,2)){let d;d=i[0],u[0]=i[1],u[1]=d,d=i[2],u[2]=i[3],u[3]=d}let c;return o.BBOX=u.join(","),c=1==a.length?a[0]:a[ai(R0(e),a.length)],L0(c,o)}getTilePixelRatio(e){return this.hidpi_&&void 0!==this.serverType_?e:1}getKeyForParams_(){let e=0;const n=[];for(const i in this.params_)n[e++]=i+"-"+this.params_[i];return n.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){this.v13_=function pN(t,e){const n=(""+t).split("."),i=(""+e).split(".");for(let r=0;r<Math.max(n.length,i.length);r++){const s=parseInt(n[r]||"0",10),o=parseInt(i[r]||"0",10);if(s>o)return 1;if(o>s)return-1}return 0}(this.params_.VERSION||Ua,"1.3")>=0}tileUrlFunction(e,n,i){let r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),r.getResolutions().length<=e[0])return;1!=n&&(!this.hidpi_||void 0===this.serverType_)&&(n=1);const s=r.getResolution(e[0]);let o=r.getTileCoordExtent(e,this.tmpExtent_),a=jt(r.getTileSize(e[0]),this.tmpSize);const l=this.gutter_;0!==l&&(a=l0(a,l,this.tmpSize),o=ev(o,s*l,o)),1!=n&&(a=c0(a,n,this.tmpSize));const u={SERVICE:"WMS",VERSION:Ua,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object.assign(u,this.params_),this.getRequestUrl_(e,a,o,n,i,u)}};let yN=(()=>{class t{constructor(n){this.elementRef=n}ngOnInit(){this.map.setTarget(this.elementRef.nativeElement)}}return t.\u0275fac=function(n){return new(n||t)(L(ln))},t.\u0275cmp=pi({type:t,selectors:[["app-map"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}"],changeDetection:0}),t})();const th="units",vN=[1,2,5],Ls=25.4/.28,DN=class EN extends Dr{constructor(e){e=e||{};const n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:e.render,target:e.target});const i=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+ur,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(th,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(th)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(th,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const n=e.center,i=e.projection,r=this.getUnits();let o=ka(i,e.resolution,n,"degrees"==r?"degrees":"m");const a=this.minWidth_*(this.dpi_||Ls)/Ls,l=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||Ls)/Ls:void 0;let u=a*o,c="";if("degrees"==r){const v=hr.degrees;u*=v,u<v/60?(c="\u2033",o*=3600):u<v?(c="\u2032",o*=60):c="\xb0"}else"imperial"==r?u<.9144?(c="in",o/=.0254):u<1609.344?(c="ft",o/=.3048):(c="mi",o/=1609.344):"nautical"==r?(o/=1852,c="NM"):"metric"==r?u<.001?(c="\u03bcm",o*=1e6):u<1?(c="mm",o*=1e3):u<1e3?c="m":(c="km",o/=1e3):"us"==r?u<.9144?(c="in",o*=39.37):u<1609.344?(c="ft",o/=.30480061):(c="mi",o/=1609.3472):$(!1,33);let h,f,g,p,_,y,d=3*Math.floor(Math.log(a*o)/Math.log(10));for(;;){g=Math.floor(d/3);const v=Math.pow(10,g);if(h=vN[(d%3+3)%3]*v,f=Math.round(h/o),isNaN(f))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==l&&f>=l){h=p,f=_,g=y;break}if(f>=a)break;p=h,_=f,y=g,++d}const m=this.scaleBar_?this.createScaleBar(f,h,c):h.toFixed(g<0?-g:0)+" "+c;this.renderedHTML_!=m&&(this.innerElement_.innerHTML=m,this.renderedHTML_=m),this.renderedWidth_!=f&&(this.innerElement_.style.width=f+"px",this.renderedWidth_=f),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,n,i){const r=this.getScaleForResolution(),s=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),o=this.scaleBarSteps_,a=e/o,l=[this.createMarker("absolute")];for(let c=0;c<o;++c)l.push(`<div><div class="ol-scale-singlebar ${c%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even"}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(c%2==0||2===o?this.createStepText(c,e,!1,n,i):"")+"</div>");return l.push(this.createStepText(o,e,!0,n,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+s+"</div>":"")+l.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,n,i,r,s){const a=(0===e?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+s);return`<div class="ol-scale-step-text" style="margin-left: ${0===e?-3:n/this.scaleBarSteps_*-1}px;text-align: ${0===e?"left":"center"};min-width: ${0===e?0:n/this.scaleBarSteps_*2}px;left: ${i?n+"px":"unset"};">`+a+"</div>"}getScaleForResolution(){return ka(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(1e3/25.4)*(this.dpi_||Ls)}render(e){const n=e.frameState;this.viewState_=n?n.viewState:null,this.updateElement_()}};let CN=(()=>{class t{constructor(n){this.elementRef=n}ngOnInit(){this.control=new DN({target:this.elementRef.nativeElement}),this.map.addControl(this.control)}}return t.\u0275fac=function(n){return new(n||t)(L(ln))},t.\u0275cmp=pi({type:t,selectors:[["app-scaleline"]],inputs:{map:"map"},decls:0,vars:0,template:function(n,i){},encapsulation:2,changeDetection:0}),t})();const nh="projection",O0="coordinateFormat",TN=class wN extends Dr{constructor(e){e=e||{};const n=document.createElement("div");n.className=void 0!==e.className?e.className:"ol-mouse-position",super({element:n,render:e.render,target:e.target}),this.addChangeListener(nh,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=void 0!==e.placeholder,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(O0)}getProjection(){return this.get(nh)}handleMouseMove(e){const n=this.getMap();this.updateHTML_(n.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){const n=e.getViewport();this.listenerKeys.push(U(n,"pointermove",this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(U(n,"pointerout",this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set(O0,e)}setProjection(e){this.set(nh,Fe(e))}updateHTML_(e){let n=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){const s=this.getProjection();this.transform_=s?mr(this.mapProjection_,s):Sd}const r=this.getMap().getCoordinateFromPixelInternal(e);if(r){const s=Av();s&&(this.transform_=mr(this.mapProjection_,s)),this.transform_(r,r);const o=this.getCoordinateFormat();n=o?o(r):r.toString()}}(!this.renderedHTML_||n!==this.renderedHTML_)&&(this.element.innerHTML=n,this.renderedHTML_=n)}render(e){const n=e.frameState;n?this.mapProjection_!=n.viewState.projection&&(this.mapProjection_=n.viewState.projection,this.transform_=null):this.mapProjection_=null}};let IN=(()=>{class t{constructor(n){this.decimalPipe=n}numberCoordinates(n,i=0,r){r=r||"{x} {y}";const o=n[1],a=`1.${i}-${i}`,l=this.decimalPipe.transform(n[0],a)||"",u=this.decimalPipe.transform(o,a)||"";return r.replace("{x}",l).replace("{y}",u)}}return t.\u0275fac=function(n){return new(n||t)(q($c))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MN=(()=>{class t{constructor(n,i){this.element=n,this.coordinateFormatter=i}ngOnInit(){this.control=new TN({className:"mouseposition-control",coordinateFormat:(n=[0,0])=>this.coordinateFormatter.numberCoordinates(n,4,this.positionTemplate),target:this.element.nativeElement}),this.map.addControl(this.control)}}return t.\u0275fac=function(n){return new(n||t)(L(ln),L(IN))},t.\u0275cmp=pi({type:t,selectors:[["app-mouse-position"]],inputs:{map:"map",positionTemplate:"positionTemplate"},decls:0,vars:0,template:function(n,i){},styles:[".ol-scale-line{position:relative}  .ol-scale-line,   .ol-scale-line-inner{background-color:transparent;border-color:var(--text-color);color:var(--text-color);font-size:inherit;bottom:auto}"],changeDetection:0}),t})(),bN=(()=>{class t{ngOnInit(){this.map=new yF({controls:t0().extend([new $F]),view:new Vn({projection:"EPSG:4326",center:[0,0],zoom:1}),layers:[new BF({extent:[-180,-58.49861145019531,180,83.62360382080078],source:new _N({url:"http://54.209.243.250:8080/geoserver/testWorkspace/wms?",params:{VERSION:"1.1.0",LAYERS:"testWorkspace:core_country",TILED:!0,format:"image/png"},serverType:"geoserver",crossOrigin:"Anonymous"})})],target:"ol-map"})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=pi({type:t,selectors:[["app-root"]],decls:11,vars:3,consts:[[1,"title"],[1,"left-bar"],[1,"map-container"],[3,"map"],[1,"right-bar"],["positionTemplate","{x}, {y} m",3,"map"]],template:function(n,i){1&n&&(Jn(0,"header")(1,"div",0),pm(2,"DigiGeo Online Maps"),ei()(),Jn(3,"main"),Yi(4,"div",1),Jn(5,"div",2),Yi(6,"app-map",3),ei(),Yi(7,"div",4),ei(),Jn(8,"footer"),Yi(9,"app-scaleline",3)(10,"app-mouse-position",5),ei()),2&n&&(Mo(6),ss("map",i.map),Mo(3),ss("map",i.map),Mo(1),ss("map",i.map))},directives:[yN,CN,MN],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}header[_ngcontent-%COMP%]{background-color:var(--header-color);padding:2em}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:28px}main[_ngcontent-%COMP%]{display:flex;flex-grow:1}.left-bar[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%]{width:20em;background-color:var(--sidebar-color)}.map-container[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{display:flex;background-color:var(--header-color);padding:1em;justify-content:space-between}"]}),t})(),SN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xr({type:t,bootstrap:[bN]}),t.\u0275inj=fi({providers:[$c],imports:[[cA]]}),t})();(function YS(){oy=!1})(),lA().bootstrapModule(SN).catch(t=>console.error(t))}},ae=>{ae(ae.s=164)}]);